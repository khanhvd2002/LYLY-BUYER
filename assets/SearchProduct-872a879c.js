import{P as N}from"./productList-6fbce282.js";import{r as M,M as $,V as O}from"./VAvatar-89ad20fc.js";import{b as P}from"./product-52434122.js";import{a as _,m as V,Q,R as q,S as W,T as X,U as Y,C as h,W as Z,X as T,u as S,d as t,Y as H,E as w,Z as J,$ as D,a0 as B,a1 as A,a2 as ee,V as ae,a3 as te,a4 as le,a5 as ne,a6 as se,a7 as oe,a8 as ie,a9 as re,aa as de,_ as ce,q as ue,o as p,f as m,h as c,w as i,e as g,F as k,r as b,t as F,j as pe,p as ve,l as he}from"./index-d8bdc496.js";import{V as me}from"./index-3dc29f8e.js";import{m as R,u as ye}from"./lazy-93080ec6.js";import{V as C,a as I}from"./VRadioGroup-ba8da0e0.js";import{V as xe}from"./VRating-fff97717.js";import"./VImg-d0ac8ec7.js";import"./VRow-a0998b98.js";import"./VSelectionControl-afd661f8.js";import"./VInput-bf41ae86.js";function ge(e){return M({url:"/category",headers:{"Content-Type":"application/json"},method:$.GET})}const y=Symbol.for("vuetify:v-expansion-panel"),fe=["default","accordion","inset","popout"],_e=_()({name:"VExpansionPanels",props:{color:String,variant:{type:String,default:"default",validator:e=>fe.includes(e)},readonly:Boolean,...V(),...Q(),...q(),...W()},emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:l}=o;X(e,y);const{themeClasses:a}=Y(e),s=h(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Z({VExpansionPanel:{color:T(e,"color")},VExpansionPanelTitle:{readonly:T(e,"readonly")}}),S(()=>t(e.tag,{class:["v-expansion-panels",a.value,s.value,e.class],style:e.style},l)),{}}}),z=H({color:String,expandIcon:{type:w,default:"$expand"},collapseIcon:{type:w,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean},"v-expansion-panel-title"),Ve=_()({name:"VExpansionPanelTitle",directives:{Ripple:J},props:{...V(),...z()},setup(e,o){let{slots:l}=o;const a=D(y);if(!a)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:s,backgroundColorStyles:d}=B(e,"color"),u=h(()=>({collapseIcon:e.collapseIcon,disabled:a.disabled.value,expanded:a.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return S(()=>{var n;return A(t("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":a.isSelected.value},s.value,e.class],style:[d.value,e.style],type:"button",tabindex:a.disabled.value?-1:void 0,disabled:a.disabled.value,"aria-expanded":a.isSelected.value,onClick:e.readonly?void 0:a.toggle},[t("span",{class:"v-expansion-panel-title__overlay"},null),(n=l.default)==null?void 0:n.call(l,u.value),!e.hideActions&&t("span",{class:"v-expansion-panel-title__icon"},[l.actions?l.actions(u.value):t(ae,{icon:a.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[ee("ripple"),e.ripple]])}),{}}}),f=_()({name:"VExpansionPanelText",props:{...V(),...R()},setup(e,o){let{slots:l}=o;const a=D(y);if(!a)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:s,onAfterLeave:d}=ye(e,a.isSelected);return S(()=>t(me,{onAfterLeave:d},{default:()=>{var u;return[A(t("div",{class:["v-expansion-panel-text",e.class],style:e.style},[l.default&&s.value&&t("div",{class:"v-expansion-panel-text__wrapper"},[(u=l.default)==null?void 0:u.call(l)])]),[[te,a.isSelected.value]])]}})),{}}}),E=_()({name:"VExpansionPanel",props:{title:String,text:String,bgColor:String,...V(),...le(),...ne(),...R(),...se(),...q(),...z()},emits:{"group:selected":e=>!0},setup(e,o){let{slots:l}=o;const a=oe(e,y),{backgroundColorClasses:s,backgroundColorStyles:d}=B(e,"bgColor"),{elevationClasses:u}=ie(e),{roundedClasses:n}=re(e),U=h(()=>(a==null?void 0:a.disabled.value)||e.disabled),L=h(()=>a.group.items.value.reduce((v,r,x)=>(a.group.selected.value.includes(r.id)&&v.push(x),v),[])),j=h(()=>{const v=a.group.items.value.findIndex(r=>r.id===a.id);return!a.isSelected.value&&L.value.some(r=>r-v===1)}),K=h(()=>{const v=a.group.items.value.findIndex(r=>r.id===a.id);return!a.isSelected.value&&L.value.some(r=>r-v===-1)});return de(y,a),S(()=>{const v=!!(l.text||e.text),r=!!(l.title||e.title);return t(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":a.isSelected.value,"v-expansion-panel--before-active":j.value,"v-expansion-panel--after-active":K.value,"v-expansion-panel--disabled":U.value},n.value,s.value,e.class],style:[d.value,e.style],"aria-expanded":a.isSelected.value},{default:()=>{var x;return[t("div",{class:["v-expansion-panel__shadow",...u.value]},null),r&&t(Ve,{key:"title",collapseIcon:e.collapseIcon,color:e.color,expandIcon:e.expandIcon,hideActions:e.hideActions,ripple:e.ripple},{default:()=>[l.title?l.title():e.title]}),v&&t(f,{key:"text",eager:e.eager},{default:()=>[l.text?l.text():e.text]}),(x=l.default)==null?void 0:x.call(l)]}})}),{}}}),Se={name:"SearchProduct",components:{ProductList:N},mounted(){this.getCategoryData(),this.handleSearchProduct()},computed:{searchKey(){return this.$route.query.search_key},categoryId(){return this.$route.query.category_id}},watch:{searchKey:function(e){this.handleSearchProduct()},categoryId:function(e){this.handleSearchProduct()}},data(){return{panel:["price","rating","category"],searchForm:{category_id:this.$route.query.category_id?this.$route.query.category_id:"",search_key:this.$route.query.search_key?this.$route.query.search_key:"",price:"",rating:0},filterPrice:[{title:"Dưới 99k",value:99e3},{title:"Dưới 500k",value:5e5},{title:"Dưới 1 triệu",value:1e6}],cateList:[],productList:[],titleSearch:"Các sản phẩm liên quan"}},methods:{getCategoryData(){ge().then(e=>{this.cateList=e.data})},handleSearchProduct(){this.$route.query.search_key&&P({search_key:this.$route.query.search_key}).then(e=>{this.productList=e.data,this.titleSearch=e.message}),this.$route.query.category_id&&P({category_id:this.$route.query.category_id}).then(e=>{this.productList=e.data,this.titleSearch=e.message})},handleFilter(){P(this.searchForm).then(e=>{this.productList=e.data,this.titleSearch=e.message})}}},G=e=>(ve("data-v-7dc7bee1"),e=e(),he(),e),Pe={class:"searh-container"},ke={class:"search-optional"},be=G(()=>c("div",{style:{"text-align":"center",padding:"12px 3px"}},[c("h3",null," Tìm kiếm theo ")],-1)),Ce={style:{display:"flex","align-items":"center"}},Ie={style:{"font-size":"14px"},class:"ml-2 clamp-text-1"},Ee={style:{display:"flex","align-items":"center","font-size":"13px"}},Le=G(()=>c("span",{style:{"font-size":"12px"}},"Trở lên",-1)),Te={style:{display:"flex","flex-direction":"column","font-size":"13px"}},we={class:"search-content"},Fe={key:1,style:{"margin-top":"16px",width:"100%","background-color":"white"}};function qe(e,o,l,a,s,d){const u=ue("ProductList");return p(),m("div",Pe,[c("div",ke,[be,t(_e,{modelValue:s.panel,"onUpdate:modelValue":o[3]||(o[3]=n=>s.panel=n)},{default:i(()=>[d.categoryId?pe("",!0):(p(),g(E,{key:0,value:"category",title:"Danh mục"},{default:i(()=>[t(f,null,{default:i(()=>[t(C,{onChange:d.handleFilter,modelValue:s.searchForm.category_id,"onUpdate:modelValue":o[0]||(o[0]=n=>s.searchForm.category_id=n)},{default:i(()=>[(p(!0),m(k,null,b(s.cateList,n=>(p(),g(I,{style:{padding:"6px 2px"},value:n.id},{label:i(()=>[c("div",Ce,[t(O,{image:n.image_url},null,8,["image"]),c("span",Ie,F(n.name),1)])]),_:2},1032,["value"]))),256))]),_:1},8,["onChange","modelValue"])]),_:1})]),_:1})),t(E,{value:"rating",title:"Đánh giá"},{default:i(()=>[t(f,null,{default:i(()=>[t(C,{onChange:d.handleFilter,modelValue:s.searchForm.rating,"onUpdate:modelValue":o[1]||(o[1]=n=>s.searchForm.rating=n)},{default:i(()=>[(p(),m(k,null,b(5,n=>c("div",Ee,[t(I,{color:"primary",value:n},{label:i(()=>[t(xe,{disabled:"",size:"small","model-value":n,length:"5"},null,8,["model-value"]),Le]),_:2},1032,["value"])])),64))]),_:1},8,["onChange","modelValue"])]),_:1})]),_:1}),t(E,{value:"price",title:"Giá cả"},{default:i(()=>[t(f,null,{default:i(()=>[t(C,{onChange:d.handleFilter,modelValue:s.searchForm.price,"onUpdate:modelValue":o[2]||(o[2]=n=>s.searchForm.price=n)},{default:i(()=>[c("div",Te,[(p(!0),m(k,null,b(s.filterPrice,n=>(p(),g(I,{key:n,color:"primary",value:n.value},{label:i(()=>[c("div",null,F(n.title),1)]),_:2},1032,["value"]))),128))])]),_:1},8,["onChange","modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),c("div",we,[s.productList.length?(p(),g(u,{key:0,title:s.titleSearch,"product-list":s.productList},null,8,["title","product-list"])):(p(),m("h2",Fe,"Không thấy sản phẩm liên quan"))])])}const Oe=ce(Se,[["render",qe],["__scopeId","data-v-7dc7bee1"]]);export{Oe as default};
