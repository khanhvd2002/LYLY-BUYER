import{ay as dt,y as ge,J as Rr,az as fa,C as Dt,A as kt,aA as ha,o as va,f as pa,h as it,aB as ma,a1 as ga,a3 as ya,aC as wa,ao as Be,am as Or}from"./index-22b5c2ba.js";var Dr=(r,a,o)=>{if(!a.has(r))throw TypeError("Cannot "+o)},br=(r,a,o)=>(Dr(r,a,"read from private field"),o?o.call(r):a.get(r)),ba=(r,a,o)=>{if(a.has(r))throw TypeError("Cannot add the same private member more than once");a instanceof WeakSet?a.add(r):a.set(r,o)},Ca=(r,a,o,d)=>(Dr(r,a,"write to private field"),d?d.call(r,o):a.set(r,o),o);const Cr=["aztec","code_128","code_39","code_93","codabar","data_matrix","ean_13","ean_8","itf","pdf417","qr_code","upc_a","upc_e","unknown"];function Ea(r){if(kr(r))return{width:r.naturalWidth,height:r.naturalHeight};if(Ir(r))return{width:r.width.baseVal.value,height:r.height.baseVal.value};if(xr(r))return{width:r.videoWidth,height:r.videoHeight};if(Nr(r))return{width:r.width,height:r.height};if(Ur(r))return{width:r.displayWidth,height:r.displayHeight};if(jr(r))return{width:r.width,height:r.height};if(Fr(r))return{width:r.width,height:r.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function kr(r){try{return r instanceof HTMLImageElement}catch{return!1}}function Ir(r){try{return r instanceof SVGImageElement}catch{return!1}}function xr(r){try{return r instanceof HTMLVideoElement}catch{return!1}}function jr(r){try{return r instanceof HTMLCanvasElement}catch{return!1}}function Nr(r){try{return r instanceof ImageBitmap}catch{return!1}}function Fr(r){try{return r instanceof OffscreenCanvas}catch{return!1}}function Ur(r){try{return r instanceof VideoFrame}catch{return!1}}function Lr(r){try{return r instanceof Blob}catch{return!1}}function Pa(r){try{return r instanceof ImageData}catch{return!1}}function _a(r,a){try{const o=new OffscreenCanvas(r,a);if(o.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return o;throw void 0}catch{const d=document.createElement("canvas");return d.width=r,d.height=a,d}}async function Wr(r){if(kr(r)&&!await $a(r))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(Ir(r)&&!await Aa(r))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if(Ur(r)&&Ra(r))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(xr(r)&&(r.readyState===0||r.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(Nr(r)&&Da(r))throw new DOMException("The image source is detached.","InvalidStateError");const{width:a,height:o}=Ea(r);if(a===0||o===0)return null;const d=_a(a,o).getContext("2d");d.drawImage(r,0,0);try{return d.getImageData(0,0,a,o)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function Ta(r){let a;try{if(createImageBitmap)a=await createImageBitmap(r);else if(Image){a=new Image;let o="";try{o=URL.createObjectURL(r),a.src=o,await a.decode()}finally{URL.revokeObjectURL(o)}}else return r}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await Wr(a)}function Sa(r){const{width:a,height:o}=r;if(a===0||o===0)return null;const d=r.getContext("2d");try{return d.getImageData(0,0,a,o)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function Ma(r){if(Lr(r))return await Ta(r);if(Pa(r)){if(Oa(r))throw new DOMException("The image data has been detached.","InvalidStateError");return r}return jr(r)||Fr(r)?Sa(r):await Wr(r)}async function $a(r){try{return await r.decode(),!0}catch{return!1}}async function Aa(r){var a;try{return await((a=r.decode)==null?void 0:a.call(r)),!0}catch{return!1}}function Ra(r){return r.format===null}function Oa(r){return r.data.buffer.byteLength===0}function Da(r){return r.width===0&&r.height===0}function Er(r,a){return r instanceof DOMException?new DOMException(`${a}: ${r.message}`,r.name):r instanceof Error?new r.constructor(`${a}: ${r.message}`):new Error(`${a}: ${r}`)}const Pr=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","UPC-A","UPC-E"];function ka(r){return r.join("|")}function Ia(r){const a=_r(r);let o=0,d=Pr.length-1;for(;o<=d;){const p=Math.floor((o+d)/2),w=Pr[p],l=_r(w);if(l===a)return w;l<a?o=p+1:d=p-1}return"None"}function _r(r){return r.toLowerCase().replace(/_-\[\]/g,"")}function xa(r,a){return r.Binarizer[a]}function ja(r,a){return r.CharacterSet[a]}const Na=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function Fa(r){return Na[r.value]}function Ua(r,a){return r.EanAddOnSymbol[a]}function La(r,a){return r.TextMode[a]}const ut={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function zr(r,a){return{...a,formats:ka(a.formats),binarizer:xa(r,a.binarizer),eanAddOnSymbol:Ua(r,a.eanAddOnSymbol),textMode:La(r,a.textMode),characterSet:ja(r,a.characterSet)}}function Br(r){return{...r,format:Ia(r.format),eccLevel:r.eccLevel,contentType:Fa(r.contentType)}}const Wa={locateFile:(r,a)=>{const o=r.match(/_(.+?)\.wasm$/);return o?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.0.0-rc.4/dist/${o[1]}/${r}`:a+r}};let Tr=new WeakMap;function Nt(r,a){var o;const d=Tr.get(r);if(d!=null&&d.modulePromise&&(a===void 0||Object.is(a,d.moduleOverrides)))return d.modulePromise;const p=(o=a??(d==null?void 0:d.moduleOverrides))!=null?o:Wa,w=r({...p});return Tr.set(r,{moduleOverrides:p,modulePromise:w}),w}async function za(r,a,o=ut){const d={...ut,...o},p=await Nt(r),{size:w}=a,l=new Uint8Array(await a.arrayBuffer()),u=p._malloc(w);p.HEAPU8.set(l,u);const i=p.readBarcodesFromImage(u,w,zr(p,d));p._free(u);const c=[];for(let h=0;h<i.size();++h)c.push(Br(i.get(h)));return c}async function Ba(r,a,o=ut){const d={...ut,...o},p=await Nt(r),{data:w,width:l,height:u,data:{byteLength:i}}=a,c=p._malloc(i);p.HEAPU8.set(w,c);const h=p.readBarcodesFromPixmap(c,l,u,zr(p,d));p._free(c);const g=[];for(let E=0;E<h.size();++E)g.push(Br(h.get(E)));return g}var Ft=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(a={}){var o=a,d,p;o.ready=new Promise((e,t)=>{d=e,p=t});var w=Object.assign({},o),l="./this.program",u=typeof window=="object",i=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var c="";function h(e){return o.locateFile?o.locateFile(e,c):c+e}var g;(u||i)&&(i?c=self.location.href:typeof document<"u"&&document.currentScript&&(c=document.currentScript.src),r&&(c=r),c.indexOf("blob:")!==0?c=c.substr(0,c.replace(/[?#].*/,"").lastIndexOf("/")+1):c="",i&&(g=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})),o.print||console.log.bind(console);var E=o.printErr||console.error.bind(console);Object.assign(o,w),w=null,o.arguments&&o.arguments,o.thisProgram&&(l=o.thisProgram),o.quit&&o.quit;var _;o.wasmBinary&&(_=o.wasmBinary),typeof WebAssembly!="object"&&Pe("no native wasm support detected");var M,A=!1;function U(e,t){e||Pe(t)}var x,R,I,O,j,k,X,ee;function oe(){var e=M.buffer;o.HEAP8=x=new Int8Array(e),o.HEAP16=I=new Int16Array(e),o.HEAPU8=R=new Uint8Array(e),o.HEAPU16=O=new Uint16Array(e),o.HEAP32=j=new Int32Array(e),o.HEAPU32=k=new Uint32Array(e),o.HEAPF32=X=new Float32Array(e),o.HEAPF64=ee=new Float64Array(e)}var Ce=[],ce=[],Ee=[];function ve(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)xe(o.preRun.shift());pt(Ce)}function Ie(){pt(ce)}function $e(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)ft(o.postRun.shift());pt(Ee)}function xe(e){Ce.unshift(e)}function He(e){ce.unshift(e)}function ft(e){Ee.unshift(e)}var le=0,te=null;function ae(e){le++,o.monitorRunDependencies&&o.monitorRunDependencies(le)}function ht(e){if(le--,o.monitorRunDependencies&&o.monitorRunDependencies(le),le==0&&te){var t=te;te=null,t()}}function Pe(e){o.onAbort&&o.onAbort(e),e="Aborted("+e+")",E(e),A=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw p(t),t}var vt="data:application/octet-stream;base64,",Ve=e=>e.startsWith(vt),pe;pe="zxing_reader.wasm",Ve(pe)||(pe=h(pe));function Qe(e){if(e==pe&&_)return new Uint8Array(_);if(g)return g(e);throw"both async and sync fetching of the wasm failed"}function un(e){return!_&&(u||i)&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>Qe(e)):Promise.resolve().then(()=>Qe(e))}function Wt(e,t,n){return un(e).then(s=>WebAssembly.instantiate(s,t)).then(s=>s).then(n,s=>{E(`failed to asynchronously prepare wasm: ${s}`),Pe(s)})}function cn(e,t,n,s){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!Ve(t)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(f=>{var v=WebAssembly.instantiateStreaming(f,n);return v.then(s,function(m){return E(`wasm streaming compile failed: ${m}`),E("falling back to ArrayBuffer instantiation"),Wt(t,n,s)})}):Wt(t,n,s)}function ln(){var e={a:Vo};function t(s,f){return z=s.exports,M=z.fa,oe(),Zt=z.ja,He(z.ga),ht(),z}ae();function n(s){t(s.instance)}if(o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(s){E(`Module.instantiateWasm callback failed with error: ${s}`),p(s)}return cn(_,pe,e,n).catch(p),{}}var pt=e=>{for(;e.length>0;)e.shift()(o)};o.noExitRuntime;var Ge=[],Ye=0,dn=e=>{var t=new mt(e);return t.get_caught()||(t.set_caught(!0),Ye--),t.set_rethrown(!1),Ge.push(t),pr(t.excPtr),t.get_exception_ptr()},de=0,fn=()=>{B(0,0);var e=Ge.pop();vr(e.excPtr),de=0};function mt(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(t){k[this.ptr+4>>2]=t},this.get_type=function(){return k[this.ptr+4>>2]},this.set_destructor=function(t){k[this.ptr+8>>2]=t},this.get_destructor=function(){return k[this.ptr+8>>2]},this.set_caught=function(t){t=t?1:0,x[this.ptr+12>>0]=t},this.get_caught=function(){return x[this.ptr+12>>0]!=0},this.set_rethrown=function(t){t=t?1:0,x[this.ptr+13>>0]=t},this.get_rethrown=function(){return x[this.ptr+13>>0]!=0},this.init=function(t,n){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(n)},this.set_adjusted_ptr=function(t){k[this.ptr+16>>2]=t},this.get_adjusted_ptr=function(){return k[this.ptr+16>>2]},this.get_exception_ptr=function(){var t=gr(this.get_type());if(t)return k[this.excPtr>>2];var n=this.get_adjusted_ptr();return n!==0?n:this.excPtr}}var hn=e=>{throw de||(de=e),de},gt=e=>{var t=de;if(!t)return We(0),0;var n=new mt(t);n.set_adjusted_ptr(t);var s=n.get_type();if(!s)return We(0),t;for(var f in e){var v=e[f];if(v===0||v===s)break;var m=n.ptr+16;if(mr(v,s,m))return We(v),t}return We(s),t},vn=()=>gt([]),pn=e=>gt([e]),mn=(e,t)=>gt([e,t]),gn=()=>{var e=Ge.pop();e||Pe("no exception to throw");var t=e.excPtr;throw e.get_rethrown()||(Ge.push(e),e.set_rethrown(!0),e.set_caught(!1),Ye++),de=t,de},yn=(e,t,n)=>{var s=new mt(e);throw s.init(t,n),de=e,Ye++,de},wn=()=>Ye,Je={},zt=e=>{for(;e.length;){var t=e.pop(),n=e.pop();n(t)}};function yt(e){return this.fromWireType(j[e>>2])}var Ae={},_e={},qe={},Bt,Ke=e=>{throw new Bt(e)},Te=(e,t,n)=>{e.forEach(function(y){qe[y]=t});function s(y){var b=n(y);b.length!==e.length&&Ke("Mismatched type converter count");for(var P=0;P<e.length;++P)ie(e[P],b[P])}var f=new Array(t.length),v=[],m=0;t.forEach((y,b)=>{_e.hasOwnProperty(y)?f[b]=_e[y]:(v.push(y),Ae.hasOwnProperty(y)||(Ae[y]=[]),Ae[y].push(()=>{f[b]=_e[y],++m,m===v.length&&s(f)}))}),v.length===0&&s(f)},bn=e=>{var t=Je[e];delete Je[e];var n=t.rawConstructor,s=t.rawDestructor,f=t.fields,v=f.map(m=>m.getterReturnType).concat(f.map(m=>m.setterArgumentType));Te([e],v,m=>{var y={};return f.forEach((b,P)=>{var T=b.fieldName,$=m[P],D=b.getter,N=b.getterContext,L=m[P+f.length],q=b.setter,W=b.setterContext;y[T]={read:K=>$.fromWireType(D(N,K)),write:(K,C)=>{var S=[];q(W,K,L.toWireType(S,C)),zt(S)}}}),[{name:t.name,fromWireType:b=>{var P={};for(var T in y)P[T]=y[T].read(b);return s(b),P},toWireType:(b,P)=>{for(var T in y)if(!(T in P))throw new TypeError(`Missing field: "${T}"`);var $=n();for(T in y)y[T].write($,P[T]);return b!==null&&b.push(s,$),$},argPackAdvance:se,readValueFromPointer:yt,destructorFunction:s}]})},Cn=(e,t,n,s,f)=>{},En=()=>{for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Ht=e},Ht,J=e=>{for(var t="",n=e;R[n];)t+=Ht[R[n++]];return t},Re,F=e=>{throw new Re(e)};function Pn(e,t,n={}){var s=t.name;if(e||F(`type "${s}" must have a positive integer typeid pointer`),_e.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;F(`Cannot register type '${s}' twice`)}if(_e[e]=t,delete qe[e],Ae.hasOwnProperty(e)){var f=Ae[e];delete Ae[e],f.forEach(v=>v())}}function ie(e,t,n={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Pn(e,t,n)}var se=8,_n=(e,t,n,s)=>{t=J(t),ie(e,{name:t,fromWireType:function(f){return!!f},toWireType:function(f,v){return v?n:s},argPackAdvance:se,readValueFromPointer:function(f){return this.fromWireType(R[f])},destructorFunction:null})},Tn=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),wt=e=>{function t(n){return n.$$.ptrType.registeredClass.name}F(t(e)+" instance already deleted")},bt=!1,Vt=e=>{},Sn=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},Qt=e=>{e.count.value-=1;var t=e.count.value===0;t&&Sn(e)},Gt=(e,t,n)=>{if(t===n)return e;if(n.baseClass===void 0)return null;var s=Gt(e,t,n.baseClass);return s===null?null:n.downcast(s)},Yt={},Mn=()=>Object.keys(Fe).length,$n=()=>{var e=[];for(var t in Fe)Fe.hasOwnProperty(t)&&e.push(Fe[t]);return e},je=[],Ct=()=>{for(;je.length;){var e=je.pop();e.$$.deleteScheduled=!1,e.delete()}},Ne,An=e=>{Ne=e,je.length&&Ne&&Ne(Ct)},Rn=()=>{o.getInheritedInstanceCount=Mn,o.getLiveInheritedInstances=$n,o.flushPendingDeletes=Ct,o.setDelayFunction=An},Fe={},On=(e,t)=>{for(t===void 0&&F("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t},Dn=(e,t)=>(t=On(e,t),Fe[t]),Xe=(e,t)=>{(!t.ptrType||!t.ptr)&&Ke("makeClassHandle requires ptr and ptrType");var n=!!t.smartPtrType,s=!!t.smartPtr;return n!==s&&Ke("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Ue(Object.create(e,{$$:{value:t}}))};function kn(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var n=Dn(this.registeredClass,t);if(n!==void 0){if(n.$$.count.value===0)return n.$$.ptr=t,n.$$.smartPtr=e,n.clone();var s=n.clone();return this.destructor(e),s}function f(){return this.isSmartPointer?Xe(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Xe(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var v=this.registeredClass.getActualType(t),m=Yt[v];if(!m)return f.call(this);var y;this.isConst?y=m.constPointerType:y=m.pointerType;var b=Gt(t,this.registeredClass,y.registeredClass);return b===null?f.call(this):this.isSmartPointer?Xe(y.registeredClass.instancePrototype,{ptrType:y,ptr:b,smartPtrType:this,smartPtr:e}):Xe(y.registeredClass.instancePrototype,{ptrType:y,ptr:b})}var Ue=e=>typeof FinalizationRegistry>"u"?(Ue=t=>t,e):(bt=new FinalizationRegistry(t=>{Qt(t.$$)}),Ue=t=>{var n=t.$$,s=!!n.smartPtr;if(s){var f={$$:n};bt.register(t,f,t)}return t},Vt=t=>bt.unregister(t),Ue(e)),In=()=>{Object.assign(Ze.prototype,{isAliasOf(e){if(!(this instanceof Ze)||!(e instanceof Ze))return!1;var t=this.$$.ptrType.registeredClass,n=this.$$.ptr;e.$$=e.$$;for(var s=e.$$.ptrType.registeredClass,f=e.$$.ptr;t.baseClass;)n=t.upcast(n),t=t.baseClass;for(;s.baseClass;)f=s.upcast(f),s=s.baseClass;return t===s&&n===f},clone(){if(this.$$.ptr||wt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=Ue(Object.create(Object.getPrototypeOf(this),{$$:{value:Tn(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||wt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&F("Object already scheduled for deletion"),Vt(this),Qt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||wt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&F("Object already scheduled for deletion"),je.push(this),je.length===1&&Ne&&Ne(Ct),this.$$.deleteScheduled=!0,this}})};function Ze(){}var xn=48,jn=57,Jt=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return t>=xn&&t<=jn?`_${e}`:e};function Et(e,t){return e=Jt(e),{[e]:function(){return t.apply(this,arguments)}}[e]}var qt=(e,t,n)=>{if(e[t].overloadTable===void 0){var s=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||F(`Function '${n}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[s.argCount]=s}},Pt=(e,t,n)=>{o.hasOwnProperty(e)?((n===void 0||o[e].overloadTable!==void 0&&o[e].overloadTable[n]!==void 0)&&F(`Cannot register public name '${e}' twice`),qt(o,e,e),o.hasOwnProperty(n)&&F(`Cannot register multiple overloads of a function with the same number of arguments (${n})!`),o[e].overloadTable[n]=t):(o[e]=t,n!==void 0&&(o[e].numArguments=n))};function Nn(e,t,n,s,f,v,m,y){this.name=e,this.constructor=t,this.instancePrototype=n,this.rawDestructor=s,this.baseClass=f,this.getActualType=v,this.upcast=m,this.downcast=y,this.pureVirtualFunctions=[]}var _t=(e,t,n)=>{for(;t!==n;)t.upcast||F(`Expected null or instance of ${n.name}, got an instance of ${t.name}`),e=t.upcast(e),t=t.baseClass;return e};function Fn(e,t){if(t===null)return this.isReference&&F(`null is not a valid ${this.name}`),0;t.$$||F(`Cannot pass "${$t(t)}" as a ${this.name}`),t.$$.ptr||F(`Cannot pass deleted object as a pointer of type ${this.name}`);var n=t.$$.ptrType.registeredClass,s=_t(t.$$.ptr,n,this.registeredClass);return s}function Un(e,t){var n;if(t===null)return this.isReference&&F(`null is not a valid ${this.name}`),this.isSmartPointer?(n=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,n),n):0;t.$$||F(`Cannot pass "${$t(t)}" as a ${this.name}`),t.$$.ptr||F(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&t.$$.ptrType.isConst&&F(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);var s=t.$$.ptrType.registeredClass;if(n=_t(t.$$.ptr,s,this.registeredClass),this.isSmartPointer)switch(t.$$.smartPtr===void 0&&F("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?n=t.$$.smartPtr:F(`Cannot convert argument of type ${t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:n=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)n=t.$$.smartPtr;else{var f=t.clone();n=this.rawShare(n,me.toHandle(()=>f.delete())),e!==null&&e.push(this.rawDestructor,n)}break;default:F("Unsupporting sharing policy")}return n}function Ln(e,t){if(t===null)return this.isReference&&F(`null is not a valid ${this.name}`),0;t.$$||F(`Cannot pass "${$t(t)}" as a ${this.name}`),t.$$.ptr||F(`Cannot pass deleted object as a pointer of type ${this.name}`),t.$$.ptrType.isConst&&F(`Cannot convert argument of type ${t.$$.ptrType.name} to parameter type ${this.name}`);var n=t.$$.ptrType.registeredClass,s=_t(t.$$.ptr,n,this.registeredClass);return s}function Kt(e){return this.fromWireType(k[e>>2])}var Wn=()=>{Object.assign(et.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor&&this.rawDestructor(e)},argPackAdvance:se,readValueFromPointer:Kt,deleteObject(e){e!==null&&e.delete()},fromWireType:kn})};function et(e,t,n,s,f,v,m,y,b,P,T){this.name=e,this.registeredClass=t,this.isReference=n,this.isConst=s,this.isSmartPointer=f,this.pointeeType=v,this.sharingPolicy=m,this.rawGetPointee=y,this.rawConstructor=b,this.rawShare=P,this.rawDestructor=T,!f&&t.baseClass===void 0?s?(this.toWireType=Fn,this.destructorFunction=null):(this.toWireType=Ln,this.destructorFunction=null):this.toWireType=Un}var Xt=(e,t,n)=>{o.hasOwnProperty(e)||Ke("Replacing nonexistant public symbol"),o[e].overloadTable!==void 0&&n!==void 0?o[e].overloadTable[n]=t:(o[e]=t,o[e].argCount=n)},zn=(e,t,n)=>{var s=o["dynCall_"+e];return n&&n.length?s.apply(null,[t].concat(n)):s.call(null,t)},tt=[],Zt,H=e=>{var t=tt[e];return t||(e>=tt.length&&(tt.length=e+1),tt[e]=t=Zt.get(e)),t},Bn=(e,t,n)=>{if(e.includes("j"))return zn(e,t,n);var s=H(t).apply(null,n);return s},Hn=(e,t)=>{var n=[];return function(){return n.length=0,Object.assign(n,arguments),Bn(e,t,n)}},ne=(e,t)=>{e=J(e);function n(){return e.includes("j")?Hn(e,t):H(t)}var s=n();return typeof s!="function"&&F(`unknown function pointer with signature ${e}: ${t}`),s},Vn=(e,t)=>{var n=Et(t,function(s){this.name=t,this.message=s;var f=new Error(s).stack;f!==void 0&&(this.stack=this.toString()+`
`+f.replace(/^Error(:[^\n]*)?\n/,""))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},n},er,tr=e=>{var t=hr(e),n=J(t);return fe(t),n},rt=(e,t)=>{var n=[],s={};function f(v){if(!s[v]&&!_e[v]){if(qe[v]){qe[v].forEach(f);return}n.push(v),s[v]=!0}}throw t.forEach(f),new er(`${e}: `+n.map(tr).join([", "]))},Qn=(e,t,n,s,f,v,m,y,b,P,T,$,D)=>{T=J(T),v=ne(f,v),y&&(y=ne(m,y)),P&&(P=ne(b,P)),D=ne($,D);var N=Jt(T);Pt(N,function(){rt(`Cannot construct ${T} due to unbound types`,[s])}),Te([e,t,n],s?[s]:[],function(L){L=L[0];var q,W;s?(q=L.registeredClass,W=q.instancePrototype):W=Ze.prototype;var K=Et(N,function(){if(Object.getPrototypeOf(this)!==C)throw new Re("Use 'new' to construct "+T);if(S.constructor_body===void 0)throw new Re(T+" has no accessible constructor");var at=S.constructor_body[arguments.length];if(at===void 0)throw new Re(`Tried to invoke ctor of ${T} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(S.constructor_body).toString()}) parameters instead!`);return at.apply(this,arguments)}),C=Object.create(W,{constructor:{value:K}});K.prototype=C;var S=new Nn(T,K,C,D,q,v,y,P);S.baseClass&&(S.baseClass.__derivedClasses===void 0&&(S.baseClass.__derivedClasses=[]),S.baseClass.__derivedClasses.push(S));var G=new et(T,S,!0,!1,!1),Y=new et(T+"*",S,!1,!1,!1),Se=new et(T+" const*",S,!1,!0,!1);return Yt[e]={pointerType:Y,constPointerType:Se},Xt(N,K),[G,Y,Se]})},Tt=(e,t)=>{for(var n=[],s=0;s<e;s++)n.push(k[t+s*4>>2]);return n};function St(e,t,n,s,f,v){var m=t.length;m<2&&F("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var y=t[1]!==null&&n!==null,b=!1,P=1;P<t.length;++P)if(t[P]!==null&&t[P].destructorFunction===void 0){b=!0;break}var T=t[0].name!=="void",$=m-2,D=new Array($),N=[],L=[];return function(){arguments.length!==$&&F(`function ${e} called with ${arguments.length} arguments, expected ${$}`),L.length=0;var q;N.length=y?2:1,N[0]=f,y&&(q=t[1].toWireType(L,this),N[1]=q);for(var W=0;W<$;++W)D[W]=t[W+2].toWireType(L,arguments[W]),N.push(D[W]);var K=s.apply(null,N);function C(S){if(b)zt(L);else for(var G=y?1:2;G<t.length;G++){var Y=G===1?q:D[G-2];t[G].destructorFunction!==null&&t[G].destructorFunction(Y)}if(T)return t[0].fromWireType(S)}return C(K)}}var Gn=(e,t,n,s,f,v)=>{var m=Tt(t,n);f=ne(s,f),Te([],[e],function(y){y=y[0];var b=`constructor ${y.name}`;if(y.registeredClass.constructor_body===void 0&&(y.registeredClass.constructor_body=[]),y.registeredClass.constructor_body[t-1]!==void 0)throw new Re(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${y.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return y.registeredClass.constructor_body[t-1]=()=>{rt(`Cannot construct ${y.name} due to unbound types`,m)},Te([],m,P=>(P.splice(1,0,null),y.registeredClass.constructor_body[t-1]=St(b,P,null,f,v),[])),[]})},rr=e=>{e=e.trim();const t=e.indexOf("(");return t!==-1?(U(e[e.length-1]==")","Parentheses for argument names should match."),e.substr(0,t)):e},Yn=(e,t,n,s,f,v,m,y,b)=>{var P=Tt(n,s);t=J(t),t=rr(t),v=ne(f,v),Te([],[e],function(T){T=T[0];var $=`${T.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),y&&T.registeredClass.pureVirtualFunctions.push(t);function D(){rt(`Cannot call ${$} due to unbound types`,P)}var N=T.registeredClass.instancePrototype,L=N[t];return L===void 0||L.overloadTable===void 0&&L.className!==T.name&&L.argCount===n-2?(D.argCount=n-2,D.className=T.name,N[t]=D):(qt(N,t,$),N[t].overloadTable[n-2]=D),Te([],P,function(q){var W=St($,q,T,v,m);return N[t].overloadTable===void 0?(W.argCount=n-2,N[t]=W):N[t].overloadTable[n-2]=W,[]}),[]})};function Jn(){Object.assign(nr.prototype,{get(e){return this.allocated[e]},has(e){return this.allocated[e]!==void 0},allocate(e){var t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t},free(e){this.allocated[e]=void 0,this.freelist.push(e)}})}function nr(){this.allocated=[void 0],this.freelist=[]}var re=new nr,or=e=>{e>=re.reserved&&--re.get(e).refcount===0&&re.free(e)},qn=()=>{for(var e=0,t=re.reserved;t<re.allocated.length;++t)re.allocated[t]!==void 0&&++e;return e},Kn=()=>{re.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),re.reserved=re.allocated.length,o.count_emval_handles=qn},me={toValue:e=>(e||F("Cannot use deleted val. handle = "+e),re.get(e).value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return re.allocate({refcount:1,value:e})}}},Xn=(e,t)=>{t=J(t),ie(e,{name:t,fromWireType:n=>{var s=me.toValue(n);return or(n),s},toWireType:(n,s)=>me.toHandle(s),argPackAdvance:se,readValueFromPointer:yt,destructorFunction:null})},Zn=(e,t,n)=>{switch(t){case 1:return n?function(s){return this.fromWireType(x[s>>0])}:function(s){return this.fromWireType(R[s>>0])};case 2:return n?function(s){return this.fromWireType(I[s>>1])}:function(s){return this.fromWireType(O[s>>1])};case 4:return n?function(s){return this.fromWireType(j[s>>2])}:function(s){return this.fromWireType(k[s>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},eo=(e,t,n,s)=>{t=J(t);function f(){}f.values={},ie(e,{name:t,constructor:f,fromWireType:function(v){return this.constructor.values[v]},toWireType:(v,m)=>m.value,argPackAdvance:se,readValueFromPointer:Zn(t,n,s),destructorFunction:null}),Pt(t,f)},Mt=(e,t)=>{var n=_e[e];return n===void 0&&F(t+" has unknown type "+tr(e)),n},to=(e,t,n)=>{var s=Mt(e,"enum");t=J(t);var f=s.constructor,v=Object.create(s.constructor.prototype,{value:{value:n},constructor:{value:Et(`${s.name}_${t}`,function(){})}});f.values[n]=v,f[t]=v},$t=e=>{if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e},ro=(e,t)=>{switch(t){case 4:return function(n){return this.fromWireType(X[n>>2])};case 8:return function(n){return this.fromWireType(ee[n>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},no=(e,t,n)=>{t=J(t),ie(e,{name:t,fromWireType:s=>s,toWireType:(s,f)=>f,argPackAdvance:se,readValueFromPointer:ro(t,n),destructorFunction:null})},oo=(e,t,n,s,f,v,m)=>{var y=Tt(t,n);e=J(e),e=rr(e),f=ne(s,f),Pt(e,function(){rt(`Cannot call ${e} due to unbound types`,y)},t-1),Te([],y,function(b){var P=[b[0],null].concat(b.slice(1));return Xt(e,St(e,P,null,f,v),t-1),[]})},ao=(e,t,n)=>{switch(t){case 1:return n?s=>x[s>>0]:s=>R[s>>0];case 2:return n?s=>I[s>>1]:s=>O[s>>1];case 4:return n?s=>j[s>>2]:s=>k[s>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},io=(e,t,n,s,f)=>{t=J(t);var v=T=>T;if(s===0){var m=32-8*n;v=T=>T<<m>>>m}var y=t.includes("unsigned"),b=(T,$)=>{},P;y?P=function(T,$){return b($,this.name),$>>>0}:P=function(T,$){return b($,this.name),$},ie(e,{name:t,fromWireType:v,toWireType:P,argPackAdvance:se,readValueFromPointer:ao(t,n,s!==0),destructorFunction:null})},so=(e,t,n)=>{var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],f=s[t];function v(m){var y=k[m>>2],b=k[m+4>>2];return new f(x.buffer,b,y)}n=J(n),ie(e,{name:n,fromWireType:v,argPackAdvance:se,readValueFromPointer:v},{ignoreDuplicateRegistrations:!0})},ar=(e,t,n,s)=>{if(!(s>0))return 0;for(var f=n,v=n+s-1,m=0;m<e.length;++m){var y=e.charCodeAt(m);if(y>=55296&&y<=57343){var b=e.charCodeAt(++m);y=65536+((y&1023)<<10)|b&1023}if(y<=127){if(n>=v)break;t[n++]=y}else if(y<=2047){if(n+1>=v)break;t[n++]=192|y>>6,t[n++]=128|y&63}else if(y<=65535){if(n+2>=v)break;t[n++]=224|y>>12,t[n++]=128|y>>6&63,t[n++]=128|y&63}else{if(n+3>=v)break;t[n++]=240|y>>18,t[n++]=128|y>>12&63,t[n++]=128|y>>6&63,t[n++]=128|y&63}}return t[n]=0,n-f},uo=(e,t,n)=>ar(e,R,t,n),ir=e=>{for(var t=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);s<=127?t++:s<=2047?t+=2:s>=55296&&s<=57343?(t+=4,++n):t+=3}return t},sr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,co=(e,t,n)=>{for(var s=t+n,f=t;e[f]&&!(f>=s);)++f;if(f-t>16&&e.buffer&&sr)return sr.decode(e.subarray(t,f));for(var v="";t<f;){var m=e[t++];if(!(m&128)){v+=String.fromCharCode(m);continue}var y=e[t++]&63;if((m&224)==192){v+=String.fromCharCode((m&31)<<6|y);continue}var b=e[t++]&63;if((m&240)==224?m=(m&15)<<12|y<<6|b:m=(m&7)<<18|y<<12|b<<6|e[t++]&63,m<65536)v+=String.fromCharCode(m);else{var P=m-65536;v+=String.fromCharCode(55296|P>>10,56320|P&1023)}}return v},At=(e,t)=>e?co(R,e,t):"",lo=(e,t)=>{t=J(t);var n=t==="std::string";ie(e,{name:t,fromWireType(s){var f=k[s>>2],v=s+4,m;if(n)for(var y=v,b=0;b<=f;++b){var P=v+b;if(b==f||R[P]==0){var T=P-y,$=At(y,T);m===void 0?m=$:(m+=String.fromCharCode(0),m+=$),y=P+1}}else{for(var D=new Array(f),b=0;b<f;++b)D[b]=String.fromCharCode(R[v+b]);m=D.join("")}return fe(s),m},toWireType(s,f){f instanceof ArrayBuffer&&(f=new Uint8Array(f));var v,m=typeof f=="string";m||f instanceof Uint8Array||f instanceof Uint8ClampedArray||f instanceof Int8Array||F("Cannot pass non-string to std::string"),n&&m?v=ir(f):v=f.length;var y=Ot(4+v+1),b=y+4;if(k[y>>2]=v,n&&m)uo(f,b,v+1);else if(m)for(var P=0;P<v;++P){var T=f.charCodeAt(P);T>255&&(fe(b),F("String has UTF-16 code units that do not fit in 8 bits")),R[b+P]=T}else for(var P=0;P<v;++P)R[b+P]=f[P];return s!==null&&s.push(fe,y),y},argPackAdvance:se,readValueFromPointer:Kt,destructorFunction(s){fe(s)}})},ur=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,fo=(e,t)=>{for(var n=e,s=n>>1,f=s+t/2;!(s>=f)&&O[s];)++s;if(n=s<<1,n-e>32&&ur)return ur.decode(R.subarray(e,n));for(var v="",m=0;!(m>=t/2);++m){var y=I[e+m*2>>1];if(y==0)break;v+=String.fromCharCode(y)}return v},ho=(e,t,n)=>{if(n===void 0&&(n=2147483647),n<2)return 0;n-=2;for(var s=t,f=n<e.length*2?n/2:e.length,v=0;v<f;++v){var m=e.charCodeAt(v);I[t>>1]=m,t+=2}return I[t>>1]=0,t-s},vo=e=>e.length*2,po=(e,t)=>{for(var n=0,s="";!(n>=t/4);){var f=j[e+n*4>>2];if(f==0)break;if(++n,f>=65536){var v=f-65536;s+=String.fromCharCode(55296|v>>10,56320|v&1023)}else s+=String.fromCharCode(f)}return s},mo=(e,t,n)=>{if(n===void 0&&(n=2147483647),n<4)return 0;for(var s=t,f=s+n-4,v=0;v<e.length;++v){var m=e.charCodeAt(v);if(m>=55296&&m<=57343){var y=e.charCodeAt(++v);m=65536+((m&1023)<<10)|y&1023}if(j[t>>2]=m,t+=4,t+4>f)break}return j[t>>2]=0,t-s},go=e=>{for(var t=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);s>=55296&&s<=57343&&++n,t+=4}return t},yo=(e,t,n)=>{n=J(n);var s,f,v,m,y;t===2?(s=fo,f=ho,m=vo,v=()=>O,y=1):t===4&&(s=po,f=mo,m=go,v=()=>k,y=2),ie(e,{name:n,fromWireType:b=>{for(var P=k[b>>2],T=v(),$,D=b+4,N=0;N<=P;++N){var L=b+4+N*t;if(N==P||T[L>>y]==0){var q=L-D,W=s(D,q);$===void 0?$=W:($+=String.fromCharCode(0),$+=W),D=L+t}}return fe(b),$},toWireType:(b,P)=>{typeof P!="string"&&F(`Cannot pass non-string to C++ string type ${n}`);var T=m(P),$=Ot(4+T+t);return k[$>>2]=T>>y,f(P,$+4,T+t),b!==null&&b.push(fe,$),$},argPackAdvance:se,readValueFromPointer:yt,destructorFunction(b){fe(b)}})},wo=(e,t,n,s,f,v)=>{Je[e]={name:J(t),rawConstructor:ne(n,s),rawDestructor:ne(f,v),fields:[]}},bo=(e,t,n,s,f,v,m,y,b,P)=>{Je[e].fields.push({fieldName:J(t),getterReturnType:n,getter:ne(s,f),getterContext:v,setterArgumentType:m,setter:ne(y,b),setterContext:P})},Co=(e,t)=>{t=J(t),ie(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>{},toWireType:(n,s)=>{}})},Eo={},Po=e=>{var t=Eo[e];return t===void 0?J(e):t},cr=()=>{if(typeof globalThis=="object")return globalThis;function e(t){t.$$$embind_global$$$=t;var n=typeof $$$embind_global$$$=="object"&&t.$$$embind_global$$$==t;return n||delete t.$$$embind_global$$$,n}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&e(global)?$$$embind_global$$$=global:typeof self=="object"&&e(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},_o=e=>e===0?me.toHandle(cr()):(e=Po(e),me.toHandle(cr()[e])),To=e=>{e>4&&(re.get(e).refcount+=1)},So=e=>{var t=new Array(e+1);return function(n,s,f){t[0]=n;for(var v=0;v<e;++v){var m=Mt(k[s+v*4>>2],"parameter "+v);t[v+1]=m.readValueFromPointer(f),f+=m.argPackAdvance}var y=new(n.bind.apply(n,t));return me.toHandle(y)}},lr={},Mo=(e,t,n,s)=>{e=me.toValue(e);var f=lr[t];return f||(f=So(t),lr[t]=f),f(e,n,s)},$o=(e,t)=>{e=Mt(e,"_emval_take_value");var n=e.readValueFromPointer(t);return me.toHandle(n)},Ao=()=>{Pe("")},Ro=(e,t,n)=>R.copyWithin(e,t,t+n),Oo=()=>2147483648,Do=e=>{var t=M.buffer,n=(e-t.byteLength+65535)/65536;try{return M.grow(n),oe(),1}catch{}},ko=e=>{var t=R.length;e>>>=0;var n=Oo();if(e>n)return!1;for(var s=(b,P)=>b+(P-b%P)%P,f=1;f<=4;f*=2){var v=t*(1+.2/f);v=Math.min(v,e+100663296);var m=Math.min(n,s(Math.max(e,v),65536)),y=Do(m);if(y)return!0}return!1},Rt={},Io=()=>l||"./this.program",Le=()=>{if(!Le.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Io()};for(var n in Rt)Rt[n]===void 0?delete t[n]:t[n]=Rt[n];var s=[];for(var n in t)s.push(`${n}=${t[n]}`);Le.strings=s}return Le.strings},xo=(e,t)=>{for(var n=0;n<e.length;++n)x[t++>>0]=e.charCodeAt(n);x[t>>0]=0},jo=(e,t)=>{var n=0;return Le().forEach((s,f)=>{var v=t+n;k[e+f*4>>2]=v,xo(s,v),n+=s.length+1}),0},No=(e,t)=>{var n=Le();k[e>>2]=n.length;var s=0;return n.forEach(f=>s+=f.length+1),k[t>>2]=s,0},Fo=e=>e,nt=e=>e%4===0&&(e%100!==0||e%400===0),Uo=(e,t)=>{for(var n=0,s=0;s<=t;n+=e[s++]);return n},dr=[31,29,31,30,31,30,31,31,30,31,30,31],fr=[31,28,31,30,31,30,31,31,30,31,30,31],Lo=(e,t)=>{for(var n=new Date(e.getTime());t>0;){var s=nt(n.getFullYear()),f=n.getMonth(),v=(s?dr:fr)[f];if(t>v-n.getDate())t-=v-n.getDate()+1,n.setDate(1),f<11?n.setMonth(f+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1));else return n.setDate(n.getDate()+t),n}return n};function Wo(e,t,n){var s=n>0?n:ir(e)+1,f=new Array(s),v=ar(e,f,0,f.length);return t&&(f.length=v),f}var zo=(e,t)=>{x.set(e,t)},Bo=(e,t,n,s)=>{var f=k[s+40>>2],v={tm_sec:j[s>>2],tm_min:j[s+4>>2],tm_hour:j[s+8>>2],tm_mday:j[s+12>>2],tm_mon:j[s+16>>2],tm_year:j[s+20>>2],tm_wday:j[s+24>>2],tm_yday:j[s+28>>2],tm_isdst:j[s+32>>2],tm_gmtoff:j[s+36>>2],tm_zone:f?At(f):""},m=At(n),y={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var b in y)m=m.replace(new RegExp(b,"g"),y[b]);var P=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],T=["January","February","March","April","May","June","July","August","September","October","November","December"];function $(C,S,G){for(var Y=typeof C=="number"?C.toString():C||"";Y.length<S;)Y=G[0]+Y;return Y}function D(C,S){return $(C,S,"0")}function N(C,S){function G(Se){return Se<0?-1:Se>0?1:0}var Y;return(Y=G(C.getFullYear()-S.getFullYear()))===0&&(Y=G(C.getMonth()-S.getMonth()))===0&&(Y=G(C.getDate()-S.getDate())),Y}function L(C){switch(C.getDay()){case 0:return new Date(C.getFullYear()-1,11,29);case 1:return C;case 2:return new Date(C.getFullYear(),0,3);case 3:return new Date(C.getFullYear(),0,2);case 4:return new Date(C.getFullYear(),0,1);case 5:return new Date(C.getFullYear()-1,11,31);case 6:return new Date(C.getFullYear()-1,11,30)}}function q(C){var S=Lo(new Date(C.tm_year+1900,0,1),C.tm_yday),G=new Date(S.getFullYear(),0,4),Y=new Date(S.getFullYear()+1,0,4),Se=L(G),at=L(Y);return N(Se,S)<=0?N(at,S)<=0?S.getFullYear()+1:S.getFullYear():S.getFullYear()-1}var W={"%a":C=>P[C.tm_wday].substring(0,3),"%A":C=>P[C.tm_wday],"%b":C=>T[C.tm_mon].substring(0,3),"%B":C=>T[C.tm_mon],"%C":C=>{var S=C.tm_year+1900;return D(S/100|0,2)},"%d":C=>D(C.tm_mday,2),"%e":C=>$(C.tm_mday,2," "),"%g":C=>q(C).toString().substring(2),"%G":C=>q(C),"%H":C=>D(C.tm_hour,2),"%I":C=>{var S=C.tm_hour;return S==0?S=12:S>12&&(S-=12),D(S,2)},"%j":C=>D(C.tm_mday+Uo(nt(C.tm_year+1900)?dr:fr,C.tm_mon-1),3),"%m":C=>D(C.tm_mon+1,2),"%M":C=>D(C.tm_min,2),"%n":()=>`
`,"%p":C=>C.tm_hour>=0&&C.tm_hour<12?"AM":"PM","%S":C=>D(C.tm_sec,2),"%t":()=>"	","%u":C=>C.tm_wday||7,"%U":C=>{var S=C.tm_yday+7-C.tm_wday;return D(Math.floor(S/7),2)},"%V":C=>{var S=Math.floor((C.tm_yday+7-(C.tm_wday+6)%7)/7);if((C.tm_wday+371-C.tm_yday-2)%7<=2&&S++,S){if(S==53){var G=(C.tm_wday+371-C.tm_yday)%7;G!=4&&(G!=3||!nt(C.tm_year))&&(S=1)}}else{S=52;var Y=(C.tm_wday+7-C.tm_yday-1)%7;(Y==4||Y==5&&nt(C.tm_year%400-1))&&S++}return D(S,2)},"%w":C=>C.tm_wday,"%W":C=>{var S=C.tm_yday+7-(C.tm_wday+6)%7;return D(Math.floor(S/7),2)},"%y":C=>(C.tm_year+1900).toString().substring(2),"%Y":C=>C.tm_year+1900,"%z":C=>{var S=C.tm_gmtoff,G=S>=0;return S=Math.abs(S)/60,S=S/60*100+S%60,(G?"+":"-")+("0000"+S).slice(-4)},"%Z":C=>C.tm_zone,"%%":()=>"%"};m=m.replace(/%%/g,"\0\0");for(var b in W)m.includes(b)&&(m=m.replace(new RegExp(b,"g"),W[b](v)));m=m.replace(/\0\0/g,"%");var K=Wo(m,!1);return K.length>t?0:(zo(K,e),K.length-1)},Ho=(e,t,n,s,f)=>Bo(e,t,n,s);Bt=o.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},En(),Re=o.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},In(),Rn(),Wn(),er=o.UnboundTypeError=Vn(Error,"UnboundTypeError"),Jn(),Kn();var Vo={s:dn,v:fn,b:vn,g:pn,q:mn,I:gn,f:yn,T:wn,d:hn,ba:bn,P:Cn,Y:_n,aa:Qn,$:Gn,w:Yn,X:Xn,x:eo,h:to,K:no,L:oo,t:io,n:so,J:lo,C:yo,A:wo,ca:bo,Z:Co,ea:or,da:_o,M:To,V:Mo,_:$o,B:Ao,W:Ro,U:ko,R:jo,S:No,D:ia,E:aa,m:sa,a:Qo,e:qo,o:Zo,k:Jo,G:na,u:ta,F:oa,z:ca,O:da,l:Ko,j:Xo,c:Yo,p:Go,H:ra,r:ua,i:ea,y:la,N:Fo,Q:Ho},z=ln(),fe=o._free=e=>(fe=o._free=z.ha)(e),Ot=o._malloc=e=>(Ot=o._malloc=z.ia)(e),hr=e=>(hr=z.ka)(e);o.__embind_initialize_bindings=()=>(o.__embind_initialize_bindings=z.la)();var B=(e,t)=>(B=z.ma)(e,t),We=e=>(We=z.na)(e),V=()=>(V=z.oa)(),Q=e=>(Q=z.pa)(e),vr=e=>(vr=z.qa)(e),pr=e=>(pr=z.ra)(e),mr=(e,t,n)=>(mr=z.sa)(e,t,n),gr=e=>(gr=z.ta)(e);o.dynCall_viijii=(e,t,n,s,f,v,m)=>(o.dynCall_viijii=z.ua)(e,t,n,s,f,v,m);var yr=o.dynCall_jiiii=(e,t,n,s,f)=>(yr=o.dynCall_jiiii=z.va)(e,t,n,s,f);o.dynCall_iiiiij=(e,t,n,s,f,v,m)=>(o.dynCall_iiiiij=z.wa)(e,t,n,s,f,v,m),o.dynCall_iiiiijj=(e,t,n,s,f,v,m,y,b)=>(o.dynCall_iiiiijj=z.xa)(e,t,n,s,f,v,m,y,b),o.dynCall_iiiiiijj=(e,t,n,s,f,v,m,y,b,P)=>(o.dynCall_iiiiiijj=z.ya)(e,t,n,s,f,v,m,y,b,P);function Qo(e,t){var n=V();try{return H(e)(t)}catch(s){if(Q(n),s!==s+0)throw s;B(1,0)}}function Go(e,t,n,s){var f=V();try{H(e)(t,n,s)}catch(v){if(Q(f),v!==v+0)throw v;B(1,0)}}function Yo(e,t,n){var s=V();try{H(e)(t,n)}catch(f){if(Q(s),f!==f+0)throw f;B(1,0)}}function Jo(e,t,n,s,f){var v=V();try{return H(e)(t,n,s,f)}catch(m){if(Q(v),m!==m+0)throw m;B(1,0)}}function qo(e,t,n){var s=V();try{return H(e)(t,n)}catch(f){if(Q(s),f!==f+0)throw f;B(1,0)}}function Ko(e){var t=V();try{H(e)()}catch(n){if(Q(t),n!==n+0)throw n;B(1,0)}}function Xo(e,t){var n=V();try{H(e)(t)}catch(s){if(Q(n),s!==s+0)throw s;B(1,0)}}function Zo(e,t,n,s){var f=V();try{return H(e)(t,n,s)}catch(v){if(Q(f),v!==v+0)throw v;B(1,0)}}function ea(e,t,n,s,f,v,m,y,b,P,T){var $=V();try{H(e)(t,n,s,f,v,m,y,b,P,T)}catch(D){if(Q($),D!==D+0)throw D;B(1,0)}}function ta(e,t,n,s,f,v,m){var y=V();try{return H(e)(t,n,s,f,v,m)}catch(b){if(Q(y),b!==b+0)throw b;B(1,0)}}function ra(e,t,n,s,f){var v=V();try{H(e)(t,n,s,f)}catch(m){if(Q(v),m!==m+0)throw m;B(1,0)}}function na(e,t,n,s,f,v){var m=V();try{return H(e)(t,n,s,f,v)}catch(y){if(Q(m),y!==y+0)throw y;B(1,0)}}function oa(e,t,n,s,f,v,m,y){var b=V();try{return H(e)(t,n,s,f,v,m,y)}catch(P){if(Q(b),P!==P+0)throw P;B(1,0)}}function aa(e,t,n,s){var f=V();try{return H(e)(t,n,s)}catch(v){if(Q(f),v!==v+0)throw v;B(1,0)}}function ia(e,t,n,s){var f=V();try{return H(e)(t,n,s)}catch(v){if(Q(f),v!==v+0)throw v;B(1,0)}}function sa(e){var t=V();try{return H(e)()}catch(n){if(Q(t),n!==n+0)throw n;B(1,0)}}function ua(e,t,n,s,f,v,m,y){var b=V();try{H(e)(t,n,s,f,v,m,y)}catch(P){if(Q(b),P!==P+0)throw P;B(1,0)}}function ca(e,t,n,s,f,v,m,y,b,P,T,$){var D=V();try{return H(e)(t,n,s,f,v,m,y,b,P,T,$)}catch(N){if(Q(D),N!==N+0)throw N;B(1,0)}}function la(e,t,n,s,f,v,m,y,b,P,T,$,D,N,L,q){var W=V();try{H(e)(t,n,s,f,v,m,y,b,P,T,$,D,N,L,q)}catch(K){if(Q(W),K!==K+0)throw K;B(1,0)}}function da(e,t,n,s,f){var v=V();try{return yr(e,t,n,s,f)}catch(m){if(Q(v),m!==m+0)throw m;B(1,0)}}var ot;te=function e(){ot||wr(),ot||(te=e)};function wr(){if(le>0||(ve(),le>0))return;function e(){ot||(ot=!0,o.calledRun=!0,!A&&(Ie(),d(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),$e()))}o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e()}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return wr(),a.ready}})();function Ha(r){return Nt(Ft,r)}async function Va(r,a){return za(Ft,r,a)}async function Qa(r,a){return Ba(Ft,r,a)}const xt=new Map([["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["data_matrix","DataMatrix"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["pdf417","PDF417"],["qr_code","QRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"]]);function Ga(r){for(const[a,o]of xt)if(r===o)return a;return"unknown"}var ze;class Hr extends EventTarget{constructor(a={}){var o;super(),ba(this,ze,void 0);try{const d=(o=a==null?void 0:a.formats)==null?void 0:o.filter(p=>p!=="unknown");if((d==null?void 0:d.length)===0)throw new TypeError("Hint option provided, but is empty.");d==null||d.forEach(p=>{if(!Cr.includes(p))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${p}' is not a valid enum value of type BarcodeFormat.`)}),Ca(this,ze,d??[]),Ha().then(p=>{this.dispatchEvent(new CustomEvent("load",{detail:p}))}).catch(p=>{this.dispatchEvent(new CustomEvent("error",{detail:p}))})}catch(d){throw Er(d,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return Cr.filter(a=>a!=="unknown")}async detect(a){try{const o=await Ma(a);if(o===null)return[];let d;try{Lr(o)?d=await Va(o,{tryHarder:!0,formats:br(this,ze).map(p=>xt.get(p))}):d=await Qa(o,{tryHarder:!0,formats:br(this,ze).map(p=>xt.get(p))})}catch(p){throw console.error(p),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return d.map(p=>{const{topLeft:{x:w,y:l},topRight:{x:u,y:i},bottomLeft:{x:c,y:h},bottomRight:{x:g,y:E}}=p.position,_=Math.min(w,u,c,g),M=Math.min(l,i,h,E),A=Math.max(w,u,c,g),U=Math.max(l,i,h,E);return{boundingBox:new DOMRectReadOnly(_,M,A-_,U-M),rawValue:p.text,format:Ga(p.format),cornerPoints:[{x:w,y:l},{x:u,y:i},{x:g,y:E},{x:c,y:h}]}})}catch(o){throw Er(o,"Failed to execute 'detect' on 'BarcodeDetector'")}}}ze=new WeakMap;const Vr=(r,a,o="error")=>{let d,p;const w=new Promise((l,u)=>{d=l,p=u,r.addEventListener(a,d),r.addEventListener(o,p)});return w.finally(()=>{r.removeEventListener(a,d),r.removeEventListener(o,p)}),w},Sr=r=>new Promise(a=>setTimeout(a,r));class Qr extends Error{constructor(){super("this browser has no Stream API support"),this.name="StreamApiNotSupportedError"}}class Ya extends Error{constructor(){super("camera access is only permitted in secure context. Use HTTPS or localhost rather than HTTP."),this.name="InsecureContextError"}}class Ja extends Error{constructor(){super("Loading camera stream timed out after 3 seconds. If you are on iOS in PWA mode, this is a known issue (see https://github.com/gruhn/vue-qrcode-reader/issues/298)"),this.name="StreamLoadTimeoutError"}}let jt;const qa=r=>{jt=new Hr({formats:r})},Ka=async(r,{detectHandler:a,locateHandler:o,minDelay:d,formats:p})=>{jt=new Hr({formats:p});const w=l=>async u=>{if(r.readyState>1){const{lastScanned:i,contentBefore:c,lastScanHadContent:h}=l;if(u-i<d)window.requestAnimationFrame(w(l));else{const g=await jt.detect(r),E=g.some(A=>!c.includes(A.rawValue));E&&a(g);const _=g.length>0;_&&o(g),!_&&h&&o(g);const M={lastScanned:u,lastScanHadContent:_,contentBefore:E?g.map(A=>A.rawValue):c};window.requestAnimationFrame(w(M))}}};w({lastScanned:performance.now(),contentBefore:[],lastScanHadContent:!1})(performance.now())};var Gr={},Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.compactObject=qr;Z.deprecated=ii;var Xa=Z.detectBrowser=si;Z.disableLog=ni;Z.disableWarnings=oi;Z.extractVersion=st;Z.filterStats=ui;Z.log=ai;Z.walkStats=ct;Z.wrapPeerConnectionEvent=ri;function Za(r,a,o){return a=ei(a),a in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o,r}function ei(r){var a=ti(r,"string");return we(a)==="symbol"?a:String(a)}function ti(r,a){if(we(r)!=="object"||r===null)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var d=o.call(r,a||"default");if(we(d)!=="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}function we(r){"@babel/helpers - typeof";return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},we(r)}var Yr=!0,Jr=!0;function st(r,a,o){var d=r.match(a);return d&&d.length>=o&&parseInt(d[o],10)}function ri(r,a,o){if(r.RTCPeerConnection){var d=r.RTCPeerConnection.prototype,p=d.addEventListener;d.addEventListener=function(l,u){if(l!==a)return p.apply(this,arguments);var i=function(c){var h=o(c);h&&(u.handleEvent?u.handleEvent(h):u(h))};return this._eventMap=this._eventMap||{},this._eventMap[a]||(this._eventMap[a]=new Map),this._eventMap[a].set(u,i),p.apply(this,[l,i])};var w=d.removeEventListener;d.removeEventListener=function(l,u){if(l!==a||!this._eventMap||!this._eventMap[a])return w.apply(this,arguments);if(!this._eventMap[a].has(u))return w.apply(this,arguments);var i=this._eventMap[a].get(u);return this._eventMap[a].delete(u),this._eventMap[a].size===0&&delete this._eventMap[a],Object.keys(this._eventMap).length===0&&delete this._eventMap,w.apply(this,[l,i])},Object.defineProperty(d,"on"+a,{get:function(){return this["_on"+a]},set:function(l){this["_on"+a]&&(this.removeEventListener(a,this["_on"+a]),delete this["_on"+a]),l&&this.addEventListener(a,this["_on"+a]=l)},enumerable:!0,configurable:!0})}}function ni(r){return typeof r!="boolean"?new Error("Argument type: "+we(r)+". Please use a boolean."):(Yr=r,r?"adapter.js logging disabled":"adapter.js logging enabled")}function oi(r){return typeof r!="boolean"?new Error("Argument type: "+we(r)+". Please use a boolean."):(Jr=!r,"adapter.js deprecation warnings "+(r?"disabled":"enabled"))}function ai(){if((typeof window>"u"?"undefined":we(window))==="object"){if(Yr)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function ii(r,a){Jr&&console.warn(r+" is deprecated, please use "+a+" instead.")}function si(r){var a={browser:null,version:null};if(typeof r>"u"||!r.navigator||!r.navigator.userAgent)return a.browser="Not a browser.",a;var o=r.navigator;if(o.mozGetUserMedia)a.browser="firefox",a.version=st(o.userAgent,/Firefox\/(\d+)\./,1);else if(o.webkitGetUserMedia||r.isSecureContext===!1&&r.webkitRTCPeerConnection)a.browser="chrome",a.version=st(o.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(r.RTCPeerConnection&&o.userAgent.match(/AppleWebKit\/(\d+)\./))a.browser="safari",a.version=st(o.userAgent,/AppleWebKit\/(\d+)\./,1),a.supportsUnifiedPlan=r.RTCRtpTransceiver&&"currentDirection"in r.RTCRtpTransceiver.prototype;else return a.browser="Not a supported browser.",a;return a}function Mr(r){return Object.prototype.toString.call(r)==="[object Object]"}function qr(r){return Mr(r)?Object.keys(r).reduce(function(a,o){var d=Mr(r[o]),p=d?qr(r[o]):r[o],w=d&&!Object.keys(p).length;return p===void 0||w?a:Object.assign(a,Za({},o,p))},{}):r}function ct(r,a,o){!a||o.has(a.id)||(o.set(a.id,a),Object.keys(a).forEach(function(d){d.endsWith("Id")?ct(r,r.get(a[d]),o):d.endsWith("Ids")&&a[d].forEach(function(p){ct(r,r.get(p),o)})}))}function ui(r,a,o){var d=o?"outbound-rtp":"inbound-rtp",p=new Map;if(a===null)return p;var w=[];return r.forEach(function(l){l.type==="track"&&l.trackIdentifier===a.id&&w.push(l)}),w.forEach(function(l){r.forEach(function(u){u.type===d&&u.trackId===l.id&&ct(r,u,p)})}),p}Object.defineProperty(Gr,"__esModule",{value:!0});var ci=Gr.shimGetUserMedia=fi,li=di(Z);function Kr(r){if(typeof WeakMap!="function")return null;var a=new WeakMap,o=new WeakMap;return(Kr=function(d){return d?o:a})(r)}function di(r,a){if(!a&&r&&r.__esModule)return r;if(r===null||ye(r)!=="object"&&typeof r!="function")return{default:r};var o=Kr(a);if(o&&o.has(r))return o.get(r);var d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in r)if(w!=="default"&&Object.prototype.hasOwnProperty.call(r,w)){var l=p?Object.getOwnPropertyDescriptor(r,w):null;l&&(l.get||l.set)?Object.defineProperty(d,w,l):d[w]=r[w]}return d.default=r,o&&o.set(r,d),d}function ye(r){"@babel/helpers - typeof";return ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ye(r)}var $r=li.log;function fi(r,a){var o=r&&r.navigator;if(o.mediaDevices){var d=function(i){if(ye(i)!=="object"||i.mandatory||i.optional)return i;var c={};return Object.keys(i).forEach(function(h){if(!(h==="require"||h==="advanced"||h==="mediaSource")){var g=ye(i[h])==="object"?i[h]:{ideal:i[h]};g.exact!==void 0&&typeof g.exact=="number"&&(g.min=g.max=g.exact);var E=function(M,A){return M?M+A.charAt(0).toUpperCase()+A.slice(1):A==="deviceId"?"sourceId":A};if(g.ideal!==void 0){c.optional=c.optional||[];var _={};typeof g.ideal=="number"?(_[E("min",h)]=g.ideal,c.optional.push(_),_={},_[E("max",h)]=g.ideal,c.optional.push(_)):(_[E("",h)]=g.ideal,c.optional.push(_))}g.exact!==void 0&&typeof g.exact!="number"?(c.mandatory=c.mandatory||{},c.mandatory[E("",h)]=g.exact):["min","max"].forEach(function(M){g[M]!==void 0&&(c.mandatory=c.mandatory||{},c.mandatory[E(M,h)]=g[M])})}}),i.advanced&&(c.optional=(c.optional||[]).concat(i.advanced)),c},p=function(i,c){if(a.version>=61)return c(i);if(i=JSON.parse(JSON.stringify(i)),i&&ye(i.audio)==="object"){var h=function(M,A,U){A in M&&!(U in M)&&(M[U]=M[A],delete M[A])};i=JSON.parse(JSON.stringify(i)),h(i.audio,"autoGainControl","googAutoGainControl"),h(i.audio,"noiseSuppression","googNoiseSuppression"),i.audio=d(i.audio)}if(i&&ye(i.video)==="object"){var g=i.video.facingMode;g=g&&(ye(g)==="object"?g:{ideal:g});var E=a.version<66;if(g&&(g.exact==="user"||g.exact==="environment"||g.ideal==="user"||g.ideal==="environment")&&!(o.mediaDevices.getSupportedConstraints&&o.mediaDevices.getSupportedConstraints().facingMode&&!E)){delete i.video.facingMode;var _;if(g.exact==="environment"||g.ideal==="environment"?_=["back","rear"]:(g.exact==="user"||g.ideal==="user")&&(_=["front"]),_)return o.mediaDevices.enumerateDevices().then(function(M){M=M.filter(function(U){return U.kind==="videoinput"});var A=M.find(function(U){return _.some(function(x){return U.label.toLowerCase().includes(x)})});return!A&&M.length&&_.includes("back")&&(A=M[M.length-1]),A&&(i.video.deviceId=g.exact?{exact:A.deviceId}:{ideal:A.deviceId}),i.video=d(i.video),$r("chrome: "+JSON.stringify(i)),c(i)})}i.video=d(i.video)}return $r("chrome: "+JSON.stringify(i)),c(i)},w=function(i){return a.version>=64?i:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[i.name]||i.name,message:i.message,constraint:i.constraint||i.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},l=function(i,c,h){p(i,function(g){o.webkitGetUserMedia(g,c,function(E){h&&h(w(E))})})};if(o.getUserMedia=l.bind(o),o.mediaDevices.getUserMedia){var u=o.mediaDevices.getUserMedia.bind(o.mediaDevices);o.mediaDevices.getUserMedia=function(i){return p(i,function(c){return u(c).then(function(h){if(c.audio&&!h.getAudioTracks().length||c.video&&!h.getVideoTracks().length)throw h.getTracks().forEach(function(g){g.stop()}),new DOMException("","NotFoundError");return h},function(h){return Promise.reject(w(h))})})}}}}var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});var hi=Xr.shimGetUserMedia=mi,vi=pi(Z);function Zr(r){if(typeof WeakMap!="function")return null;var a=new WeakMap,o=new WeakMap;return(Zr=function(d){return d?o:a})(r)}function pi(r,a){if(!a&&r&&r.__esModule)return r;if(r===null||De(r)!=="object"&&typeof r!="function")return{default:r};var o=Zr(a);if(o&&o.has(r))return o.get(r);var d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in r)if(w!=="default"&&Object.prototype.hasOwnProperty.call(r,w)){var l=p?Object.getOwnPropertyDescriptor(r,w):null;l&&(l.get||l.set)?Object.defineProperty(d,w,l):d[w]=r[w]}return d.default=r,o&&o.set(r,d),d}function De(r){"@babel/helpers - typeof";return De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},De(r)}function mi(r,a){var o=r&&r.navigator,d=r&&r.MediaStreamTrack;if(o.getUserMedia=function(i,c,h){vi.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),o.mediaDevices.getUserMedia(i).then(c,h)},!(a.version>55&&"autoGainControl"in o.mediaDevices.getSupportedConstraints())){var p=function(i,c,h){c in i&&!(h in i)&&(i[h]=i[c],delete i[c])},w=o.mediaDevices.getUserMedia.bind(o.mediaDevices);if(o.mediaDevices.getUserMedia=function(i){return De(i)==="object"&&De(i.audio)==="object"&&(i=JSON.parse(JSON.stringify(i)),p(i.audio,"autoGainControl","mozAutoGainControl"),p(i.audio,"noiseSuppression","mozNoiseSuppression")),w(i)},d&&d.prototype.getSettings){var l=d.prototype.getSettings;d.prototype.getSettings=function(){var i=l.apply(this,arguments);return p(i,"mozAutoGainControl","autoGainControl"),p(i,"mozNoiseSuppression","noiseSuppression"),i}}if(d&&d.prototype.applyConstraints){var u=d.prototype.applyConstraints;d.prototype.applyConstraints=function(i){return this.kind==="audio"&&De(i)==="object"&&(i=JSON.parse(JSON.stringify(i)),p(i,"autoGainControl","mozAutoGainControl"),p(i,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[i])}}}}var ue={};Object.defineProperty(ue,"__esModule",{value:!0});ue.shimAudioContext=Si;ue.shimCallbacksAPI=Ci;ue.shimConstraints=rn;ue.shimCreateOfferLegacy=Ti;var gi=ue.shimGetUserMedia=Ei;ue.shimLocalStreamsAPI=wi;ue.shimRTCIceServerUrls=Pi;ue.shimRemoteStreamsAPI=bi;ue.shimTrackEventTransceiver=_i;var en=yi(Z);function tn(r){if(typeof WeakMap!="function")return null;var a=new WeakMap,o=new WeakMap;return(tn=function(d){return d?o:a})(r)}function yi(r,a){if(!a&&r&&r.__esModule)return r;if(r===null||be(r)!=="object"&&typeof r!="function")return{default:r};var o=tn(a);if(o&&o.has(r))return o.get(r);var d={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in r)if(w!=="default"&&Object.prototype.hasOwnProperty.call(r,w)){var l=p?Object.getOwnPropertyDescriptor(r,w):null;l&&(l.get||l.set)?Object.defineProperty(d,w,l):d[w]=r[w]}return d.default=r,o&&o.set(r,d),d}function be(r){"@babel/helpers - typeof";return be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},be(r)}function wi(r){if(!(be(r)!=="object"||!r.RTCPeerConnection)){if("getLocalStreams"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in r.RTCPeerConnection.prototype)){var a=r.RTCPeerConnection.prototype.addTrack;r.RTCPeerConnection.prototype.addStream=function(o){var d=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(o)||this._localStreams.push(o),o.getAudioTracks().forEach(function(p){return a.call(d,p,o)}),o.getVideoTracks().forEach(function(p){return a.call(d,p,o)})},r.RTCPeerConnection.prototype.addTrack=function(o){for(var d=this,p=arguments.length,w=new Array(p>1?p-1:0),l=1;l<p;l++)w[l-1]=arguments[l];return w&&w.forEach(function(u){d._localStreams?d._localStreams.includes(u)||d._localStreams.push(u):d._localStreams=[u]}),a.apply(this,arguments)}}"removeStream"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.removeStream=function(o){var d=this;this._localStreams||(this._localStreams=[]);var p=this._localStreams.indexOf(o);if(p!==-1){this._localStreams.splice(p,1);var w=o.getTracks();this.getSenders().forEach(function(l){w.includes(l.track)&&d.removeTrack(l)})}})}}function bi(r){if(!(be(r)!=="object"||!r.RTCPeerConnection)&&("getRemoteStreams"in r.RTCPeerConnection.prototype||(r.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in r.RTCPeerConnection.prototype))){Object.defineProperty(r.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(o){var d=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=o),this.addEventListener("track",this._onaddstreampoly=function(p){p.streams.forEach(function(w){if(d._remoteStreams||(d._remoteStreams=[]),!d._remoteStreams.includes(w)){d._remoteStreams.push(w);var l=new Event("addstream");l.stream=w,d.dispatchEvent(l)}})})}});var a=r.RTCPeerConnection.prototype.setRemoteDescription;r.RTCPeerConnection.prototype.setRemoteDescription=function(){var o=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(d){d.streams.forEach(function(p){if(o._remoteStreams||(o._remoteStreams=[]),!(o._remoteStreams.indexOf(p)>=0)){o._remoteStreams.push(p);var w=new Event("addstream");w.stream=p,o.dispatchEvent(w)}})}),a.apply(o,arguments)}}}function Ci(r){if(!(be(r)!=="object"||!r.RTCPeerConnection)){var a=r.RTCPeerConnection.prototype,o=a.createOffer,d=a.createAnswer,p=a.setLocalDescription,w=a.setRemoteDescription,l=a.addIceCandidate;a.createOffer=function(i,c){var h=arguments.length>=2?arguments[2]:arguments[0],g=o.apply(this,[h]);return c?(g.then(i,c),Promise.resolve()):g},a.createAnswer=function(i,c){var h=arguments.length>=2?arguments[2]:arguments[0],g=d.apply(this,[h]);return c?(g.then(i,c),Promise.resolve()):g};var u=function(i,c,h){var g=p.apply(this,[i]);return h?(g.then(c,h),Promise.resolve()):g};a.setLocalDescription=u,u=function(i,c,h){var g=w.apply(this,[i]);return h?(g.then(c,h),Promise.resolve()):g},a.setRemoteDescription=u,u=function(i,c,h){var g=l.apply(this,[i]);return h?(g.then(c,h),Promise.resolve()):g},a.addIceCandidate=u}}function Ei(r){var a=r&&r.navigator;if(a.mediaDevices&&a.mediaDevices.getUserMedia){var o=a.mediaDevices,d=o.getUserMedia.bind(o);a.mediaDevices.getUserMedia=function(p){return d(rn(p))}}!a.getUserMedia&&a.mediaDevices&&a.mediaDevices.getUserMedia&&(a.getUserMedia=(function(p,w,l){a.mediaDevices.getUserMedia(p).then(w,l)}).bind(a))}function rn(r){return r&&r.video!==void 0?Object.assign({},r,{video:en.compactObject(r.video)}):r}function Pi(r){if(r.RTCPeerConnection){var a=r.RTCPeerConnection;r.RTCPeerConnection=function(o,d){if(o&&o.iceServers){for(var p=[],w=0;w<o.iceServers.length;w++){var l=o.iceServers[w];l.urls===void 0&&l.url?(en.deprecated("RTCIceServer.url","RTCIceServer.urls"),l=JSON.parse(JSON.stringify(l)),l.urls=l.url,delete l.url,p.push(l)):p.push(o.iceServers[w])}o.iceServers=p}return new a(o,d)},r.RTCPeerConnection.prototype=a.prototype,"generateCertificate"in a&&Object.defineProperty(r.RTCPeerConnection,"generateCertificate",{get:function(){return a.generateCertificate}})}}function _i(r){be(r)==="object"&&r.RTCTrackEvent&&"receiver"in r.RTCTrackEvent.prototype&&!("transceiver"in r.RTCTrackEvent.prototype)&&Object.defineProperty(r.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function Ti(r){var a=r.RTCPeerConnection.prototype.createOffer;r.RTCPeerConnection.prototype.createOffer=function(o){if(o){typeof o.offerToReceiveAudio<"u"&&(o.offerToReceiveAudio=!!o.offerToReceiveAudio);var d=this.getTransceivers().find(function(w){return w.receiver.track.kind==="audio"});o.offerToReceiveAudio===!1&&d?d.direction==="sendrecv"?d.setDirection?d.setDirection("sendonly"):d.direction="sendonly":d.direction==="recvonly"&&(d.setDirection?d.setDirection("inactive"):d.direction="inactive"):o.offerToReceiveAudio===!0&&!d&&this.addTransceiver("audio",{direction:"recvonly"}),typeof o.offerToReceiveVideo<"u"&&(o.offerToReceiveVideo=!!o.offerToReceiveVideo);var p=this.getTransceivers().find(function(w){return w.receiver.track.kind==="video"});o.offerToReceiveVideo===!1&&p?p.direction==="sendrecv"?p.setDirection?p.setDirection("sendonly"):p.direction="sendonly":p.direction==="recvonly"&&(p.setDirection?p.setDirection("inactive"):p.direction="inactive"):o.offerToReceiveVideo===!0&&!p&&this.addTransceiver("video",{direction:"recvonly"})}return a.apply(this,arguments)}}function Si(r){be(r)!=="object"||r.AudioContext||(r.AudioContext=r.webkitAudioContext)}const Mi=r=>{let a=!1,o;return(...d)=>(a||(o=r(d),a=!0),o)};function he(r,a){if(r===!1)throw new Error(a??"assertion failure")}const $i=Mi(()=>{const r=Xa(window);switch(r.browser){case"chrome":ci(window,r);break;case"firefox":hi(window,r);break;case"safari":gi(window,r);break;default:throw new Qr}});let ke=Promise.resolve({type:"stop",data:{}});async function Ar(r,a,o){var d,p,w;if(window.isSecureContext!==!0)throw new Ya;if(((d=navigator==null?void 0:navigator.mediaDevices)==null?void 0:d.getUserMedia)===void 0)throw new Qr;$i();const l=await navigator.mediaDevices.getUserMedia({audio:!1,video:a});r.srcObject!==void 0?r.srcObject=l:r.mozSrcObject!==void 0?r.mozSrcObject=l:window.URL.createObjectURL?r.src=window.URL.createObjectURL(l):window.webkitURL?r.src=window.webkitURL.createObjectURL(l):r.src=l.id,r.play(),await Promise.race([Vr(r,"loadeddata"),Sr(3e3).then(()=>{throw new Ja})]),await Sr(500);const[u]=l.getVideoTracks(),i=(w=(p=u==null?void 0:u.getCapabilities)==null?void 0:p.call(u))!=null?w:{};let c=!1;return o&&i.torch&&(await u.applyConstraints({advanced:[{torch:!0}]}),c=!0),{type:"start",data:{videoEl:r,stream:l,capabilities:i,constraints:a,isTorchOn:c}}}async function Ai(r,{constraints:a,torch:o,restart:d=!1}){ke=ke.then(w=>{if(w.type==="start"){const{data:{videoEl:l,stream:u,constraints:i,isTorchOn:c}}=w;return!d&&r===l&&a===i&&o===c?w:nn(l,u,c).then(()=>Ar(r,a,o))}return Ar(r,a,o)});const p=await ke;if(p.type==="stop")throw new Error("Something went wrong with the camera task queue (start task).");return p.data.capabilities}async function nn(r,a,o){r.src="",r.srcObject=null,r.load(),await Vr(r,"error");for(const d of a.getTracks())o!=null||await d.applyConstraints({advanced:[{torch:!1}]}),a.removeTrack(d),d.stop();return{type:"stop",data:{}}}async function It(){if(ke=ke.then(r=>{if(r.type==="stop")return r;const{data:{videoEl:a,stream:o,isTorchOn:d}}=r;return nn(a,o,d)}),(await ke).type==="start")throw new Error("Something went wrong with the camera task queue (stop task).")}const xi=dt({__name:"QrcodeStream",props:{constraints:{type:Object,default(){return{facingMode:"environment"}}},formats:{type:Array,default:()=>["qr_code"]},paused:{type:Boolean,default:!1},torch:{type:Boolean,default:!1},track:{type:Function}},emits:["detect","camera-on","camera-off","error"],setup(r,{emit:a}){const o=r,d=a,p=ge(),w=ge(),l=ge(),u=ge(!1),i=ge(!1);Rr(()=>{i.value=!0}),fa(()=>{It()});const c=Dt(()=>({torch:o.torch,constraints:o.constraints,shouldStream:i.value&&!o.paused}));kt(c,async R=>{const I=l.value;he(I!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus video element should always be defined.");const O=p.value;he(O!==void 0,"cameraSettings watcher should never be triggered when component is not mounted. Thus canvas should always be defined.");const j=O.getContext("2d");if(he(j!==null,"if cavnas is defined, canvas 2d context should also be non-null"),R.shouldStream)try{const k=await Ai(I,R);i.value?(u.value=!0,d("camera-on",k)):await It()}catch(k){d("error",k)}else O.width=I.videoWidth,O.height=I.videoHeight,j.drawImage(I,0,0,I.videoWidth,I.videoHeight),It(),u.value=!1,d("camera-off")},{deep:!0});const{formats:h}=ha(o);kt(h,R=>{i.value&&qa(R)});const g=Dt(()=>c.value.shouldStream&&u.value);kt(g,R=>{if(R){he(p.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus pause frame canvas is defined"),E(p.value),he(w.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus tracking canvas is defined"),E(w.value);const I=()=>o.track===void 0?500:40;he(l.value!==void 0,"shouldScan watcher should only be triggered when component is mounted. Thus video element is defined"),Ka(l.value,{detectHandler:O=>d("detect",O),formats:o.formats,locateHandler:_,minDelay:I()})}});const E=R=>{const I=R.getContext("2d");he(I!==null,"canvas 2d context should always be non-null"),I.clearRect(0,0,R.width,R.height)},_=R=>{const I=w.value;he(I!==void 0,"onLocate handler should only be called when component is mounted. Thus tracking canvas is always defined.");const O=l.value;if(he(O!==void 0,"onLocate handler should only be called when component is mounted. Thus video element is always defined."),R.length===0||o.track===void 0)E(I);else{const j=O.offsetWidth,k=O.offsetHeight,X=O.videoWidth,ee=O.videoHeight,oe=Math.max(j/X,k/ee),Ce=X*oe,ce=ee*oe,Ee=Ce/X,ve=ce/ee,Ie=(j-Ce)/2,$e=(k-ce)/2,xe=({x:te,y:ae})=>({x:Math.floor(te*Ee),y:Math.floor(ae*ve)}),He=({x:te,y:ae})=>({x:Math.floor(te+Ie),y:Math.floor(ae+$e)}),ft=R.map(te=>{const{boundingBox:ae,cornerPoints:ht}=te,{x:Pe,y:vt}=He(xe({x:ae.x,y:ae.y})),{x:Ve,y:pe}=xe({x:ae.width,y:ae.height});return{...te,cornerPoints:ht.map(Qe=>He(xe(Qe))),boundingBox:DOMRectReadOnly.fromRect({x:Pe,y:vt,width:Ve,height:pe})}});I.width=O.offsetWidth,I.height=O.offsetHeight;const le=I.getContext("2d");o.track(ft,le)}},M={width:"100%",height:"100%",position:"relative","z-index":"0"},A={width:"100%",height:"100%",position:"absolute",top:"0",left:"0"},U={width:"100%",height:"100%","object-fit":"cover"},x=Dt(()=>g.value?U:{...U,visibility:"hidden",position:"absolute"});return(R,I)=>(va(),pa("div",{style:M},[it("video",{ref_key:"videoRef",ref:l,style:ma(x.value),autoplay:"",muted:"",playsinline:""},null,4),ga(it("canvas",{id:"qrcode-stream-pause-frame",ref_key:"pauseFrameRef",ref:p,style:U},null,512),[[ya,!g.value]]),it("canvas",{id:"qrcode-stream-tracking-layer",ref_key:"trackingLayerRef",ref:w,style:A},null,512),it("div",{style:A},[wa(R.$slots,"default")])]))}});/*!
 * qrcode.vue v3.4.1
 * A Vue.js component to generate QRCode.
 * © 2017-2023 @scopewu(https://github.com/scopewu)
 * MIT License.
 */var lt=function(){return lt=Object.assign||function(a){for(var o,d=1,p=arguments.length;d<p;d++){o=arguments[d];for(var w in o)Object.prototype.hasOwnProperty.call(o,w)&&(a[w]=o[w])}return a},lt.apply(this,arguments)};var Me;(function(r){var a=function(){function l(u,i,c,h){if(this.version=u,this.errorCorrectionLevel=i,this.modules=[],this.isFunction=[],u<l.MIN_VERSION||u>l.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=u*4+17;for(var g=[],E=0;E<this.size;E++)g.push(!1);for(var E=0;E<this.size;E++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();var _=this.addEccAndInterleave(c);if(this.drawCodewords(_),h==-1)for(var M=1e9,E=0;E<8;E++){this.applyMask(E),this.drawFormatBits(E);var A=this.getPenaltyScore();A<M&&(h=E,M=A),this.applyMask(E)}p(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}return l.encodeText=function(u,i){var c=r.QrSegment.makeSegments(u);return l.encodeSegments(c,i)},l.encodeBinary=function(u,i){var c=r.QrSegment.makeBytes(u);return l.encodeSegments([c],i)},l.encodeSegments=function(u,i,c,h,g,E){if(c===void 0&&(c=1),h===void 0&&(h=40),g===void 0&&(g=-1),E===void 0&&(E=!0),!(l.MIN_VERSION<=c&&c<=h&&h<=l.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");var _,M;for(_=c;;_++){var A=l.getNumDataCodewords(_,i)*8,U=w.getTotalBits(u,_);if(U<=A){M=U;break}if(_>=h)throw new RangeError("Data too long")}for(var x=0,R=[l.Ecc.MEDIUM,l.Ecc.QUARTILE,l.Ecc.HIGH];x<R.length;x++){var I=R[x];E&&M<=l.getNumDataCodewords(_,I)*8&&(i=I)}for(var O=[],j=0,k=u;j<k.length;j++){var X=k[j];o(X.mode.modeBits,4,O),o(X.numChars,X.mode.numCharCountBits(_),O);for(var ee=0,oe=X.getData();ee<oe.length;ee++){var Ce=oe[ee];O.push(Ce)}}p(O.length==M);var ce=l.getNumDataCodewords(_,i)*8;p(O.length<=ce),o(0,Math.min(4,ce-O.length),O),o(0,(8-O.length%8)%8,O),p(O.length%8==0);for(var Ee=236;O.length<ce;Ee^=253)o(Ee,8,O);for(var ve=[];ve.length*8<O.length;)ve.push(0);return O.forEach(function(Ie,$e){return ve[$e>>>3]|=Ie<<7-($e&7)}),new l(_,i,ve,g)},l.prototype.getModule=function(u,i){return 0<=u&&u<this.size&&0<=i&&i<this.size&&this.modules[i][u]},l.prototype.getModules=function(){return this.modules},l.prototype.drawFunctionPatterns=function(){for(var u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var i=this.getAlignmentPatternPositions(),c=i.length,u=0;u<c;u++)for(var h=0;h<c;h++)u==0&&h==0||u==0&&h==c-1||u==c-1&&h==0||this.drawAlignmentPattern(i[u],i[h]);this.drawFormatBits(0),this.drawVersion()},l.prototype.drawFormatBits=function(u){for(var i=this.errorCorrectionLevel.formatBits<<3|u,c=i,h=0;h<10;h++)c=c<<1^(c>>>9)*1335;var g=(i<<10|c)^21522;p(g>>>15==0);for(var h=0;h<=5;h++)this.setFunctionModule(8,h,d(g,h));this.setFunctionModule(8,7,d(g,6)),this.setFunctionModule(8,8,d(g,7)),this.setFunctionModule(7,8,d(g,8));for(var h=9;h<15;h++)this.setFunctionModule(14-h,8,d(g,h));for(var h=0;h<8;h++)this.setFunctionModule(this.size-1-h,8,d(g,h));for(var h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,d(g,h));this.setFunctionModule(8,this.size-8,!0)},l.prototype.drawVersion=function(){if(!(this.version<7)){for(var u=this.version,i=0;i<12;i++)u=u<<1^(u>>>11)*7973;var c=this.version<<12|u;p(c>>>18==0);for(var i=0;i<18;i++){var h=d(c,i),g=this.size-11+i%3,E=Math.floor(i/3);this.setFunctionModule(g,E,h),this.setFunctionModule(E,g,h)}}},l.prototype.drawFinderPattern=function(u,i){for(var c=-4;c<=4;c++)for(var h=-4;h<=4;h++){var g=Math.max(Math.abs(h),Math.abs(c)),E=u+h,_=i+c;0<=E&&E<this.size&&0<=_&&_<this.size&&this.setFunctionModule(E,_,g!=2&&g!=4)}},l.prototype.drawAlignmentPattern=function(u,i){for(var c=-2;c<=2;c++)for(var h=-2;h<=2;h++)this.setFunctionModule(u+h,i+c,Math.max(Math.abs(h),Math.abs(c))!=1)},l.prototype.setFunctionModule=function(u,i,c){this.modules[i][u]=c,this.isFunction[i][u]=!0},l.prototype.addEccAndInterleave=function(u){var i=this.version,c=this.errorCorrectionLevel;if(u.length!=l.getNumDataCodewords(i,c))throw new RangeError("Invalid argument");for(var h=l.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][i],g=l.ECC_CODEWORDS_PER_BLOCK[c.ordinal][i],E=Math.floor(l.getNumRawDataModules(i)/8),_=h-E%h,M=Math.floor(E/h),A=[],U=l.reedSolomonComputeDivisor(g),x=0,R=0;x<h;x++){var I=u.slice(R,R+M-g+(x<_?0:1));R+=I.length;var O=l.reedSolomonComputeRemainder(I,U);x<_&&I.push(0),A.push(I.concat(O))}for(var j=[],k=function(X){A.forEach(function(ee,oe){(X!=M-g||oe>=_)&&j.push(ee[X])})},x=0;x<A[0].length;x++)k(x);return p(j.length==E),j},l.prototype.drawCodewords=function(u){if(u.length!=Math.floor(l.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var i=0,c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(var h=0;h<this.size;h++)for(var g=0;g<2;g++){var E=c-g,_=(c+1&2)==0,M=_?this.size-1-h:h;!this.isFunction[M][E]&&i<u.length*8&&(this.modules[M][E]=d(u[i>>>3],7-(i&7)),i++)}}p(i==u.length*8)},l.prototype.applyMask=function(u){if(u<0||u>7)throw new RangeError("Mask value out of range");for(var i=0;i<this.size;i++)for(var c=0;c<this.size;c++){var h=void 0;switch(u){case 0:h=(c+i)%2==0;break;case 1:h=i%2==0;break;case 2:h=c%3==0;break;case 3:h=(c+i)%3==0;break;case 4:h=(Math.floor(c/3)+Math.floor(i/2))%2==0;break;case 5:h=c*i%2+c*i%3==0;break;case 6:h=(c*i%2+c*i%3)%2==0;break;case 7:h=((c+i)%2+c*i%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[i][c]&&h&&(this.modules[i][c]=!this.modules[i][c])}},l.prototype.getPenaltyScore=function(){for(var u=0,i=0;i<this.size;i++){for(var c=!1,h=0,g=[0,0,0,0,0,0,0],E=0;E<this.size;E++)this.modules[i][E]==c?(h++,h==5?u+=l.PENALTY_N1:h>5&&u++):(this.finderPenaltyAddHistory(h,g),c||(u+=this.finderPenaltyCountPatterns(g)*l.PENALTY_N3),c=this.modules[i][E],h=1);u+=this.finderPenaltyTerminateAndCount(c,h,g)*l.PENALTY_N3}for(var E=0;E<this.size;E++){for(var c=!1,_=0,g=[0,0,0,0,0,0,0],i=0;i<this.size;i++)this.modules[i][E]==c?(_++,_==5?u+=l.PENALTY_N1:_>5&&u++):(this.finderPenaltyAddHistory(_,g),c||(u+=this.finderPenaltyCountPatterns(g)*l.PENALTY_N3),c=this.modules[i][E],_=1);u+=this.finderPenaltyTerminateAndCount(c,_,g)*l.PENALTY_N3}for(var i=0;i<this.size-1;i++)for(var E=0;E<this.size-1;E++){var M=this.modules[i][E];M==this.modules[i][E+1]&&M==this.modules[i+1][E]&&M==this.modules[i+1][E+1]&&(u+=l.PENALTY_N2)}for(var A=0,U=0,x=this.modules;U<x.length;U++){var R=x[U];A=R.reduce(function(j,k){return j+(k?1:0)},A)}var I=this.size*this.size,O=Math.ceil(Math.abs(A*20-I*10)/I)-1;return p(0<=O&&O<=9),u+=O*l.PENALTY_N4,p(0<=u&&u<=2568888),u},l.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var u=Math.floor(this.version/7)+2,i=this.version==32?26:Math.ceil((this.version*4+4)/(u*2-2))*2,c=[6],h=this.size-7;c.length<u;h-=i)c.splice(1,0,h);return c},l.getNumRawDataModules=function(u){if(u<l.MIN_VERSION||u>l.MAX_VERSION)throw new RangeError("Version number out of range");var i=(16*u+128)*u+64;if(u>=2){var c=Math.floor(u/7)+2;i-=(25*c-10)*c-55,u>=7&&(i-=36)}return p(208<=i&&i<=29648),i},l.getNumDataCodewords=function(u,i){return Math.floor(l.getNumRawDataModules(u)/8)-l.ECC_CODEWORDS_PER_BLOCK[i.ordinal][u]*l.NUM_ERROR_CORRECTION_BLOCKS[i.ordinal][u]},l.reedSolomonComputeDivisor=function(u){if(u<1||u>255)throw new RangeError("Degree out of range");for(var i=[],c=0;c<u-1;c++)i.push(0);i.push(1);for(var h=1,c=0;c<u;c++){for(var g=0;g<i.length;g++)i[g]=l.reedSolomonMultiply(i[g],h),g+1<i.length&&(i[g]^=i[g+1]);h=l.reedSolomonMultiply(h,2)}return i},l.reedSolomonComputeRemainder=function(u,i){for(var c=i.map(function(M){return 0}),h=function(M){var A=M^c.shift();c.push(0),i.forEach(function(U,x){return c[x]^=l.reedSolomonMultiply(U,A)})},g=0,E=u;g<E.length;g++){var _=E[g];h(_)}return c},l.reedSolomonMultiply=function(u,i){if(u>>>8||i>>>8)throw new RangeError("Byte out of range");for(var c=0,h=7;h>=0;h--)c=c<<1^(c>>>7)*285,c^=(i>>>h&1)*u;return p(c>>>8==0),c},l.prototype.finderPenaltyCountPatterns=function(u){var i=u[1];p(i<=this.size*3);var c=i>0&&u[2]==i&&u[3]==i*3&&u[4]==i&&u[5]==i;return(c&&u[0]>=i*4&&u[6]>=i?1:0)+(c&&u[6]>=i*4&&u[0]>=i?1:0)},l.prototype.finderPenaltyTerminateAndCount=function(u,i,c){return u&&(this.finderPenaltyAddHistory(i,c),i=0),i+=this.size,this.finderPenaltyAddHistory(i,c),this.finderPenaltyCountPatterns(c)},l.prototype.finderPenaltyAddHistory=function(u,i){i[0]==0&&(u+=this.size),i.pop(),i.unshift(u)},l.MIN_VERSION=1,l.MAX_VERSION=40,l.PENALTY_N1=3,l.PENALTY_N2=3,l.PENALTY_N3=40,l.PENALTY_N4=10,l.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],l.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],l}();r.QrCode=a;function o(l,u,i){if(u<0||u>31||l>>>u)throw new RangeError("Value out of range");for(var c=u-1;c>=0;c--)i.push(l>>>c&1)}function d(l,u){return(l>>>u&1)!=0}function p(l){if(!l)throw new Error("Assertion error")}var w=function(){function l(u,i,c){if(this.mode=u,this.numChars=i,this.bitData=c,i<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}return l.makeBytes=function(u){for(var i=[],c=0,h=u;c<h.length;c++){var g=h[c];o(g,8,i)}return new l(l.Mode.BYTE,u.length,i)},l.makeNumeric=function(u){if(!l.isNumeric(u))throw new RangeError("String contains non-numeric characters");for(var i=[],c=0;c<u.length;){var h=Math.min(u.length-c,3);o(parseInt(u.substring(c,c+h),10),h*3+1,i),c+=h}return new l(l.Mode.NUMERIC,u.length,i)},l.makeAlphanumeric=function(u){if(!l.isAlphanumeric(u))throw new RangeError("String contains unencodable characters in alphanumeric mode");var i=[],c;for(c=0;c+2<=u.length;c+=2){var h=l.ALPHANUMERIC_CHARSET.indexOf(u.charAt(c))*45;h+=l.ALPHANUMERIC_CHARSET.indexOf(u.charAt(c+1)),o(h,11,i)}return c<u.length&&o(l.ALPHANUMERIC_CHARSET.indexOf(u.charAt(c)),6,i),new l(l.Mode.ALPHANUMERIC,u.length,i)},l.makeSegments=function(u){return u==""?[]:l.isNumeric(u)?[l.makeNumeric(u)]:l.isAlphanumeric(u)?[l.makeAlphanumeric(u)]:[l.makeBytes(l.toUtf8ByteArray(u))]},l.makeEci=function(u){var i=[];if(u<0)throw new RangeError("ECI assignment value out of range");if(u<128)o(u,8,i);else if(u<16384)o(2,2,i),o(u,14,i);else if(u<1e6)o(6,3,i),o(u,21,i);else throw new RangeError("ECI assignment value out of range");return new l(l.Mode.ECI,0,i)},l.isNumeric=function(u){return l.NUMERIC_REGEX.test(u)},l.isAlphanumeric=function(u){return l.ALPHANUMERIC_REGEX.test(u)},l.prototype.getData=function(){return this.bitData.slice()},l.getTotalBits=function(u,i){for(var c=0,h=0,g=u;h<g.length;h++){var E=g[h],_=E.mode.numCharCountBits(i);if(E.numChars>=1<<_)return 1/0;c+=4+_+E.bitData.length}return c},l.toUtf8ByteArray=function(u){u=encodeURI(u);for(var i=[],c=0;c<u.length;c++)u.charAt(c)!="%"?i.push(u.charCodeAt(c)):(i.push(parseInt(u.substring(c+1,c+3),16)),c+=2);return i},l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",l}();r.QrSegment=w})(Me||(Me={}));(function(r){(function(a){var o=function(){function d(p,w){this.ordinal=p,this.formatBits=w}return d.LOW=new d(0,1),d.MEDIUM=new d(1,0),d.QUARTILE=new d(2,3),d.HIGH=new d(3,2),d}();a.Ecc=o})(r.QrCode||(r.QrCode={}))})(Me||(Me={}));(function(r){(function(a){var o=function(){function d(p,w){this.modeBits=p,this.numBitsCharCount=w}return d.prototype.numCharCountBits=function(p){return this.numBitsCharCount[Math.floor((p+7)/17)]},d.NUMERIC=new d(1,[10,12,14]),d.ALPHANUMERIC=new d(2,[9,11,13]),d.BYTE=new d(4,[8,16,16]),d.KANJI=new d(8,[8,10,12]),d.ECI=new d(7,[0,0,0]),d}();a.Mode=o})(r.QrSegment||(r.QrSegment={}))})(Me||(Me={}));var Oe=Me,on="H",Ut={L:Oe.QrCode.Ecc.LOW,M:Oe.QrCode.Ecc.MEDIUM,Q:Oe.QrCode.Ecc.QUARTILE,H:Oe.QrCode.Ecc.HIGH},Ri=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function an(r){return r in Ut}function sn(r,a){a===void 0&&(a=0);var o=[];return r.forEach(function(d,p){var w=null;d.forEach(function(l,u){if(!l&&w!==null){o.push("M".concat(w+a," ").concat(p+a,"h").concat(u-w,"v1H").concat(w+a,"z")),w=null;return}if(u===d.length-1){if(!l)return;w===null?o.push("M".concat(u+a,",").concat(p+a," h1v1H").concat(u+a,"z")):o.push("M".concat(w+a,",").concat(p+a," h").concat(u+1-w,"v1H").concat(w+a,"z"));return}l&&w===null&&(w=u)})}),o.join("")}var Lt={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:on,validator:function(r){return an(r)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0}},Oi=lt(lt({},Lt),{renderAs:{type:String,required:!1,default:"canvas",validator:function(r){return["canvas","svg"].indexOf(r)>-1}}}),Di=dt({name:"QRCodeSvg",props:Lt,setup:function(r){var a=ge(0),o=ge(""),d=function(){var p=r.value,w=r.level,l=r.margin,u=Oe.QrCode.encodeText(p,Ut[w]).getModules();a.value=u.length+l*2,o.value=sn(u,l)};return d(),Or(d),function(){return Be("svg",{width:r.size,height:r.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(a.value," ").concat(a.value)},[Be("path",{fill:r.background,d:"M0,0 h".concat(a.value,"v").concat(a.value,"H0z")}),Be("path",{fill:r.foreground,d:o.value})])}}}),ki=dt({name:"QRCodeCanvas",props:Lt,setup:function(r){var a=ge(null),o=function(){var d=r.value,p=r.level,w=r.size,l=r.margin,u=r.background,i=r.foreground,c=a.value;if(c){var h=c.getContext("2d");if(h){var g=Oe.QrCode.encodeText(d,Ut[p]).getModules(),E=g.length+l*2,_=window.devicePixelRatio||1,M=w/E*_;c.height=c.width=w*_,h.scale(M,M),h.fillStyle=u,h.fillRect(0,0,E,E),h.fillStyle=i,Ri?h.fill(new Path2D(sn(g,l))):g.forEach(function(A,U){A.forEach(function(x,R){x&&h.fillRect(R+l,U+l,1,1)})})}}};return Rr(o),Or(o),function(){return Be("canvas",{ref:a,style:{width:"".concat(r.size,"px"),height:"".concat(r.size,"px")}})}}}),ji=dt({name:"Qrcode",render:function(){var r=this.$props,a=r.renderAs,o=r.value,d=r.size,p=r.margin,w=r.level,l=r.background,u=r.foreground,i=d>>>0,c=p>>>0,h=an(w)?w:on;return Be(a==="svg"?Di:ki,{value:o,size:i,margin:c,level:h,background:l,foreground:u})},props:Oi});export{ji as Q,xi as T};
